# POPPON í”„ë¡œì íŠ¸ STATUS

## í”„ë¡œì íŠ¸ ê°œìš”
- **ì œí’ˆëª…**: POPPON (K-RetailMeNot)
- **ê¸°íšì„œ ë²„ì „**: v1.2.1
- **í•œì¤„ ì •ì˜**: í•œêµ­ì˜ ëª¨ë“  í• ì¸/ì¿ í°/í”„ë¡œëª¨ì…˜ì„ í•œ ê³³ì— ëª¨ì•„, ê²€ìƒ‰Â·í•„í„°Â·ì¹´í…Œê³ ë¦¬Â·ìº˜ë¦°ë”Â·íë ˆì´ì…˜ìœ¼ë¡œ íƒìƒ‰ â†’ ì €ì¥/êµ¬ë…/ì•Œë¦¼ìœ¼ë¡œ DB ì¶•ì  â†’ TargetUP-AI CRM-Outside ê³ ë‹¨ê°€ íƒ€ê²Ÿë§ˆì¼€íŒ…ìœ¼ë¡œ ìˆ˜ìµí™”í•˜ëŠ” ë”œ í”Œë«í¼
- **MVP ìš°ì„ ìˆœìœ„**: A(ì˜¨ë¼ì¸ ì¿ í°/í”„ë¡œëª¨ì…˜ ì½”ë“œ) â†’ B(ì•±ì¿ í°/ë§í¬í˜•) â†’ C(ì˜¤í”„ë¼ì¸ ì´ë²¤íŠ¸)
- **í•µì‹¬ ë°©í–¥**: í• ì¸ì •ë³´ë¥¼ ë³´ê¸° ì‰½ê²Œ ëª¨ì•„ì„œ DB ì¶•ì  â†’ ìˆ˜ìµí™” (RetailMeNot ì½”ë“œë³µì‚¬/ìºì‹œë°± ëª¨ë¸ê³¼ ë‹¤ë¦„)

### í”„ë¡œì íŠ¸ êµ¬ì¡° (2ê°œ ë¶„ë¦¬)
| í”„ë¡œì íŠ¸ | ê²½ë¡œ | ìš©ë„ | ë°°í¬ |
|---------|------|------|------|
| **poppon** (ë©”ì¸) | `C:\projects\poppon` | ì‚¬ìš©ì ì›¹ (ë”œ íƒìƒ‰/ì €ì¥/ì¸ì¦) | `https://poppon.vercel.app` âœ… |
| **poppon-admin** (ì–´ë“œë¯¼) | `C:\projects\poppon-admin` | ê´€ë¦¬ì (ë”œCRUD/í¬ë¡¤ëŸ¬/Cron) | `https://poppon-admin.vercel.app` âœ… |

- **ë„ë©”ì¸**: `poppon.kr` (ê°€ë¹„ì•„, DNS ì„¤ì • í•„ìš”)
- **GitHub (ë©”ì¸)**: `https://github.com/hoyun5295-ctrl/poppon` (private)
- **GitHub (ì–´ë“œë¯¼)**: `https://github.com/hoyun5295-ctrl/poppon-admin` (private) âœ…

---

## âš ï¸ ê°œë°œ ì›ì¹™
> **ì ˆëŒ€ ì›ì¹™**: ì‹œí‚¤ê¸° ì „ì— ì½”ë“œ/íŒŒì¼ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤.
> ë°˜ë“œì‹œ **ê¸°ì¡´ íŒŒì¼ íŒŒì•… â†’ ì„¤ê³„ ì˜ë…¼ â†’ í•©ì˜ í›„ êµ¬í˜„** ìˆœì„œ.
> ê¸°ì¡´ ì½”ë“œ ë§ê°€ëœ¨ë¦¬ì§€ ì•Šë„ë¡ í˜„ì¬ êµ¬ì¡°ë¶€í„° í™•ì¸í•œë‹¤.

---

## í•µì‹¬ ì‚¬ìš©ì íë¦„ (Top 5)
1. í™ˆ â†’ ê²€ìƒ‰/ì¹´í…Œê³ ë¦¬ íƒìƒ‰ â†’ ë”œ ìƒì„¸(ëª¨ë‹¬) â†’ ì½”ë“œë³µì‚¬/ì‚¬ì´íŠ¸ì´ë™
2. ë”œ ìƒì„¸ â†’ "ì €ì¥/ì•Œë¦¼" â†’ ê°€ì… ë°”í…€ì‹œíŠ¸ â†’ SNS ë¡œê·¸ì¸ â†’ ì €ì¥ ì™„ë£Œ
3. ì¹´í…Œê³ ë¦¬ í—ˆë¸Œ â†’ ë§ˆê°ì„ë°•/ì´ë²ˆì£¼ íƒìƒ‰ â†’ íŠ¸ë Œë”© ë”œ ì†Œë¹„
4. ë¸Œëœë“œê´€ â†’ êµ¬ë… â†’ ì‹ ê·œ ë”œ ì•Œë¦¼ ìˆ˜ì‹ 
5. ìœ ì € ì œë³´(ë§í¬ ì œì¶œ) â†’ ìë™ íŒŒì‹± â†’ ìš´ì˜ì ìŠ¹ì¸ â†’ ì¸ë²¤í† ë¦¬ í™•ì¥

---

## ìˆ˜ê¸‰ íŠ¸ë™ (D' = A + B + C + F)
| íŠ¸ë™ | ì„¤ëª… | Phase |
|------|------|-------|
| A) í¬ë¡¤ë§ | ì»¤ë„¥í„° ê¸°ë°˜ ìë™ ìˆ˜ê¸‰ | Phase 1 |
| B) ë¸Œëœë“œ í¬í„¸ | ë¸Œëœë“œ ì…€í”„ ì—…ë¡œë“œ | Phase 2 |
| C) ìœ ì € ì œë³´ | ë§í¬ ì œì¶œ â†’ íŒŒì‹± â†’ ìŠ¹ì¸ | Phase 1 |
| F) ì œíœ´ ë„¤íŠ¸ì›Œí¬ API | ë§í¬í”„ë¼ì´ìŠ¤ ë“± í•«ë”œ/ë”¥ë§í¬ | Phase 0 ë³‘í–‰ |

---

## ğŸš¨ ìƒˆ ì±„íŒ… ì‹œì‘ ì‹œ í™•ì¸

### SQL ì²´í¬ (ë¬¸ì œ ìˆì„ ë•Œë§Œ ì‹¤í–‰)
```sql
-- ì¹´í…Œê³ ë¦¬ë³„ ë¨¸ì²œíŠ¸/ë”œ í˜„í™©
SELECT c.name, c.slug,
  COUNT(DISTINCT m.id) as merchants,
  COUNT(DISTINCT d.id) as active_deals
FROM categories c
LEFT JOIN merchants m ON c.id = ANY(m.category_ids)
LEFT JOIN deals d ON d.merchant_id = m.id AND d.status = 'active'
WHERE c.depth = 0 AND c.is_active = true
GROUP BY c.id, c.name, c.slug
ORDER BY active_deals DESC;

-- ì»¤ë„¥í„° í˜„í™©
SELECT status, COUNT(*) FROM crawl_connectors GROUP BY status;

-- íšŒì› í…Œì´ë¸” í™•ì¸
SELECT COUNT(*) FROM profiles;
SELECT COUNT(*) FROM saved_deals;
SELECT COUNT(*) FROM followed_merchants;
```

---

## ğŸ“ ì°¸ì¡° íŒŒì¼ ëª©ë¡

### ğŸ”µ poppon (ë©”ì¸ ì•±)

#### ì»´í¬ë„ŒíŠ¸ / UI
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| DealCard.tsx | `src/components/deal/DealCard.tsx` |
| DealShelf.tsx | `src/components/deal/DealShelf.tsx` |
| DealGrid.tsx | `src/components/deal/DealGrid.tsx` |
| DealDetail.tsx | `src/components/deal/DealDetail.tsx` |
| DealModal.tsx | `src/components/deal/DealModal.tsx` |
| CopyCodeButton.tsx | `src/components/deal/CopyCodeButton.tsx` |
| DealDetailClient.tsx | `src/components/deal/DealDetailClient.tsx` |
| TopNav.tsx | `src/components/layout/TopNav.tsx` |
| Footer.tsx | `src/components/layout/Footer.tsx` |
| SourceProtection.tsx | `src/components/layout/SourceProtection.tsx` |
| **TopProgressBar.tsx** | `src/components/layout/TopProgressBar.tsx` âœ… ì‹ ê·œ |
| **Toast.tsx** | `src/components/common/Toast.tsx` âœ… ì‹ ê·œ |
| **AuthSheet.tsx** | `src/components/auth/AuthSheet.tsx` âœ… ì‹ ê·œ |
| MobileFilterSheet.tsx | `src/components/search/MobileFilterSheet.tsx` |
| SearchBar.tsx | `src/components/search/SearchBar.tsx` |
| SearchFilters.tsx | `src/components/search/SearchFilters.tsx` |
| SearchInput.tsx | `src/components/search/SearchInput.tsx` |
| CategoryGrid.tsx | `src/components/category/CategoryGrid.tsx` |
| SubCategoryChips.tsx | `src/components/category/SubCategoryChips.tsx` |
| CategoryTabBar.tsx | `src/components/category/CategoryTabBar.tsx` |
| CategoryIcon.tsx | `src/components/category/CategoryIcon.tsx` |
| MerchantDealTabs.tsx | `src/components/merchant/MerchantDealTabs.tsx` |
| Pagination.tsx | `src/components/common/Pagination.tsx` |
| SortDropdown.tsx | `src/components/common/SortDropdown.tsx` |

#### í˜ì´ì§€
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ | `src/app/layout.tsx` (AuthProvider + TopProgressBar + Toast ë˜í•‘) |
| ê¸€ë¡œë²Œ CSS | `src/app/globals.css` (fade-in + toast ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€) |
| ë¯¸ë“¤ì›¨ì–´ | `src/middleware.ts` |
| í™ˆ | `src/app/page.tsx` |
| **í™ˆ ë¡œë”©** | `src/app/loading.tsx` âœ… ì‹ ê·œ |
| ê²€ìƒ‰ | `src/app/search/page.tsx` |
| **ê²€ìƒ‰ ë¡œë”©** | `src/app/search/loading.tsx` âœ… ì‹ ê·œ |
| ì¹´í…Œê³ ë¦¬ | `src/app/c/[categorySlug]/page.tsx` |
| **ì¹´í…Œê³ ë¦¬ ë¡œë”©** | `src/app/c/[categorySlug]/loading.tsx` âœ… ì‹ ê·œ |
| ë¸Œëœë“œê´€ | `src/app/m/[merchantSlug]/page.tsx` |
| **ë¸Œëœë“œê´€ ë¡œë”©** | `src/app/m/[merchantSlug]/loading.tsx` âœ… ì‹ ê·œ |
| ë”œ ìƒì„¸ (ëª¨ë‹¬) | `src/app/@modal/(.)d/[slug]/page.tsx` |
| ë”œ ìƒì„¸ (í’€í˜ì´ì§€) | `src/app/d/[slug]/page.tsx` |
| ì œë³´ | `src/app/submit/page.tsx` |
| ë§ˆì´í˜ì´ì§€ | `src/app/me/page.tsx` âœ… ë°ì´í„° ì—°ë™ + ê´€ì‹¬ì¹´í…Œê³ ë¦¬/ì¶”ì²œë¸Œëœë“œ ì„¤ì • |
| **ë§ˆì´ ë¡œë”©** | `src/app/me/loading.tsx` âœ… ì‹ ê·œ |
| ë¡œê·¸ì¸ | `src/app/auth/page.tsx` âœ… ë°”í…€ì‹œíŠ¸ ì—°ë™ |
| OAuth ì½œë°± | `src/app/auth/callback/route.ts` âœ… ì‹ ê·œ |

#### ë°ì´í„° / íƒ€ì… / ìœ í‹¸ / ì¸ì¦
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| database.ts (íƒ€ì…) | `src/types/database.ts` âœ… Profile, SavedDeal ë“± ì¶”ê°€ |
| index.ts (re-export) | `src/types/index.ts` |
| deals.ts (ë°ì´í„°) | `src/lib/deals.ts` |
| tracking.ts (í–‰ë™ì¶”ì ) | `src/lib/tracking.ts` |
| format.ts (ìœ í‹¸) | `src/lib/utils/format.ts` |
| constants.ts | `src/lib/constants.ts` |
| **AuthProvider.tsx** | `src/lib/auth/AuthProvider.tsx` âœ… ì‹ ê·œ |
| Supabase ì„œë²„ | `src/lib/supabase/server.ts` |
| Supabase ë¸Œë¼ìš°ì € | `src/lib/supabase/client.ts` âœ… ì‹±ê¸€í†¤ íŒ¨í„´ ì ìš© |

#### API (ë©”ì¸ ì•±)
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| ì œë³´ API | `src/app/api/submit/route.ts` |
| í–‰ë™ì¶”ì  API | `src/app/api/actions/route.ts` |
| í´ë¦­ íŠ¸ë˜í‚¹ | `src/app/out/[dealId]/route.ts` |
| **ë”œ ì €ì¥ API** | `src/app/api/me/saved-deals/route.ts` âœ… ì‹ ê·œ |
| **ë¸Œëœë“œ êµ¬ë… API** | `src/app/api/me/follows/merchants/route.ts` âœ… ì‹ ê·œ |
| **ê³„ì • íƒˆí‡´ API** | `src/app/api/me/delete-account/route.ts` âœ… ì‹ ê·œ |
| **ê²€ìƒ‰ ë¡œê·¸ API** | `src/app/api/actions/search/route.ts` âœ… ì‹ ê·œ |

### ğŸ”´ poppon-admin (ì–´ë“œë¯¼ ì•±)

#### í˜ì´ì§€
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ | `src/app/layout.tsx` |
| ê¸€ë¡œë²Œ CSS | `src/app/globals.css` |
| ë¯¸ë“¤ì›¨ì–´ | `src/middleware.ts` (ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸) |
| ë¡œê·¸ì¸ | `src/app/login/page.tsx` |
| ëŒ€ì‹œë³´ë“œ | `src/app/(dashboard)/page.tsx` |
| ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ | `src/app/(dashboard)/layout.tsx` âœ… ê²½ë¡œ ìˆ˜ì • ì™„ë£Œ |
| ë”œ ëª©ë¡ | `src/app/(dashboard)/deals/page.tsx` |
| ë”œ ìƒì„± | `src/app/(dashboard)/deals/new/page.tsx` |
| ë”œ ìˆ˜ì • | `src/app/(dashboard)/deals/[id]/edit/page.tsx` |
| ë¨¸ì²œíŠ¸ ëª©ë¡ | `src/app/(dashboard)/merchants/page.tsx` |
| ë¨¸ì²œíŠ¸ ìƒì„± | `src/app/(dashboard)/merchants/new/page.tsx` |
| ë¨¸ì²œíŠ¸ ìˆ˜ì • | `src/app/(dashboard)/merchants/[id]/edit/page.tsx` |
| í¬ë¡¤ ëª¨ë‹ˆí„°ë§ | `src/app/(dashboard)/crawls/page.tsx` |
| **íšŒì› ëª©ë¡** | `src/app/(dashboard)/members/page.tsx` âœ… ì‹ ê·œ |
| **íšŒì› ìƒì„¸** | `src/app/(dashboard)/members/[id]/page.tsx` âœ… ì‹ ê·œ |

#### API (ì–´ë“œë¯¼ ì•±)
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| ì–´ë“œë¯¼ ì¸ì¦ | `src/app/api/auth/route.ts` |
| ë”œ CRUD | `src/app/api/deals/route.ts` |
| ë”œ ë‹¨ì¼ | `src/app/api/deals/[id]/route.ts` |
| ë¨¸ì²œíŠ¸ CRUD | `src/app/api/merchants/route.ts` |
| ë¨¸ì²œíŠ¸ ë‹¨ì¼ | `src/app/api/merchants/[id]/route.ts` |
| AI í¬ë¡¤ (ë°°ì¹˜) | `src/app/api/ai-crawl/route.ts` |
| AI í¬ë¡¤ (ë‹¨ì¼) | `src/app/api/ai-crawl/[connectorId]/route.ts` |
| Cron í¬ë¡¤ | `src/app/api/cron/crawl/route.ts` |
| Cron ë§Œë£Œ | `src/app/api/cron/expire/route.ts` |
| **íšŒì› ëª©ë¡ API** | `src/app/api/members/route.ts` âœ… ì‹ ê·œ |
| **íšŒì› ìƒì„¸ API** | `src/app/api/members/[id]/route.ts` âœ… ì‹ ê·œ |

#### í¬ë¡¤ëŸ¬ / ìŠ¤í¬ë¦½íŠ¸ (ì–´ë“œë¯¼ì—ë§Œ ì¡´ì¬)
| íŒŒì¼ | ê²½ë¡œ | ì„¤ëª… |
|------|------|------|
| AI í¬ë¡¤ ì—”ì§„ (v3) | `src/lib/crawl/ai-engine.ts` | Puppeteer + Claude Haiku |
| ë”œ ì €ì¥ (v2) | `src/lib/crawl/save-deals.ts` | URL+title ì¤‘ë³µì²´í¬ |
| í¬ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ | `scripts/test-ai-crawl.ts` | ë³€ê²½ ê°ì§€ í¬í•¨ v2 |
| ì´ë²¤íŠ¸ í˜ì´ì§€ íƒì§€ | `scripts/detect-event-pages.ts` | í™ˆí˜ì´ì§€â†’ì´ë²¤íŠ¸URL ìë™ ì°¾ê¸° |
| ë¨¸ì²œíŠ¸ ë¡œê³  v2 | `scripts/fetch-merchant-logos.ts` | HTTP apple-touch-icon ìˆ˜ì§‘ |
| ë¨¸ì²œíŠ¸ ë¡œê³  v3.1 | `scripts/fetch-merchant-logos-v3.ts` | Puppeteer ì‚¬ì´íŠ¸ ì ‘ì† ìˆ˜ì§‘ |
| êµ¬ê¸€ ì´ë¯¸ì§€ ë¡œê³  | `scripts/fetch-logos-google.ts` | `"[ë¸Œëœë“œëª…] CI"` ê²€ìƒ‰ í¬ë¡¤ë§ |
| OG ì´ë¯¸ì§€ ìˆ˜ì§‘ | `scripts/fetch-og-images.ts` | landing_urlì—ì„œ og:image ì¶”ì¶œ |

#### ê³µìœ  íŒŒì¼ (ì–‘ìª½ ë™ì¼)
| íŒŒì¼ | ê²½ë¡œ |
|------|------|
| database.ts (íƒ€ì…) | `src/types/database.ts` |
| Supabase ì„œë²„ | `src/lib/supabase/server.ts` |
| Supabase ë¸Œë¼ìš°ì € | `src/lib/supabase/client.ts` |

### ë°ì´í„° íŒŒì¼
| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `poppon_brands_filtered.csv` | ë¸Œëœë“œ 494ê°œ (ì›ë³¸) |
| `crawl-targets-final.csv` | ìµœì¢… í¬ë¡¤ë§ ëŒ€ìƒ 187ê°œ |
| `poppon-brand-master.csv` | **âœ… 6ê°œ ì¹´í…Œê³ ë¦¬ 230ê°œ ë¸Œëœë“œ ë§ˆìŠ¤í„° ë¦¬ìŠ¤íŠ¸** |
| `debug-ai-crawl/event-pages-detected.csv` | ì´ë²¤íŠ¸ í˜ì´ì§€ íƒì§€ ê²°ê³¼ 494ê°œ |
| `debug-ai-crawl/crawl-targets.csv` | ì´ë²¤íŠ¸ URL í™•ë³´ 223ê°œ |

---

## ê¸°ìˆ  ìŠ¤íƒ

### ë©”ì¸ ì•± (poppon)
| ì˜ì—­ | ê¸°ìˆ  | ë¹„ê³  |
|------|------|------|
| Frontend + Backend | **Next.js 15 (App Router)** | SSR/SSG, API Routes |
| Database + Auth | **Supabase (PostgreSQL)** | RLS, OAuth (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/ì• í”Œ) |
| ìŠ¤íƒ€ì¼ë§ | **Tailwind CSS + shadcn/ui** | Pretendard |
| ìƒíƒœê´€ë¦¬ | **Zustand** | ê²½ëŸ‰ |
| ë°°í¬ | **Vercel** | Git push ìë™ ë°°í¬ |
| ê²€ìƒ‰ | **PostgreSQL í’€í…ìŠ¤íŠ¸ (pg_trgm)** | ì´ˆê¸° 1ë§Œê±´ ìˆ˜ì¤€ ì¶©ë¶„ |
| ë³¸ì¸ì¸ì¦ | **KMC** (ì›” 55,000ì› ê¸°ì¡´ ê³„ì•½) | ê°€ì… ì‹œ ë³¸ì¸ì¸ì¦ |
| ì•Œë¦¼ | **ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡** | ì±„ë„ ê°œì„¤ í•„ìš” |

### ì–´ë“œë¯¼ ì•± (poppon-admin)
| ì˜ì—­ | ê¸°ìˆ  | ë¹„ê³  |
|------|------|------|
| Frontend + Backend | **Next.js 15 (App Router)** | SSR/SSG, API Routes |
| Database | **Supabase (ë™ì¼ DB)** | ë©”ì¸ê³¼ ê³µìœ  |
| AI í¬ë¡¤ëŸ¬ | **Puppeteer + Claude Haiku** | ì»¤ë„¥í„° ê¸°ë°˜ |
| ë°°í¬ | **Vercel** âœ… | `poppon-admin.vercel.app` |
| ì¸ì¦ | **ë¹„ë°€ë²ˆí˜¸ (ADMIN_SECRET)** | ì¿ í‚¤ ê¸°ë°˜ |

---

## í”„ë¡ íŠ¸ì—”ë“œ ë¼ìš°íŒ… êµ¬ì¡°

### ë©”ì¸ ì•± (poppon)
```
src/app/
â”œâ”€â”€ layout.tsx               â€” AuthProvider + TopProgressBar + Toast + AuthSheet ë˜í•‘
â”œâ”€â”€ loading.tsx              â€” í™ˆ ìŠ¤ì¼ˆë ˆí†¤ âœ… ì‹ ê·œ
â”œâ”€â”€ @modal/
â”‚   â”œâ”€â”€ default.tsx          â€” ëª¨ë‹¬ ì—†ì„ ë•Œ null
â”‚   â””â”€â”€ (.)d/[slug]/
â”‚       â””â”€â”€ page.tsx         â€” ì¸í„°ì…‰íŒ… ëª¨ë‹¬
â”œâ”€â”€ d/[slug]/
â”‚   â””â”€â”€ page.tsx             â€” SEO í’€ í˜ì´ì§€
â”œâ”€â”€ m/[merchantSlug]/
â”‚   â”œâ”€â”€ page.tsx             â€” ë¸Œëœë“œê´€
â”‚   â””â”€â”€ loading.tsx          â€” ë¸Œëœë“œê´€ ìŠ¤ì¼ˆë ˆí†¤ âœ… ì‹ ê·œ
â”œâ”€â”€ c/[categorySlug]/
â”‚   â”œâ”€â”€ page.tsx             â€” ì¹´í…Œê³ ë¦¬ í—ˆë¸Œ
â”‚   â””â”€â”€ loading.tsx          â€” ì¹´í…Œê³ ë¦¬ ìŠ¤ì¼ˆë ˆí†¤ âœ… ì‹ ê·œ
â”œâ”€â”€ search/
â”‚   â”œâ”€â”€ page.tsx             â€” ê²€ìƒ‰ ê²°ê³¼
â”‚   â””â”€â”€ loading.tsx          â€” ê²€ìƒ‰ ìŠ¤ì¼ˆë ˆí†¤ âœ… ì‹ ê·œ
â”œâ”€â”€ submit/
â”‚   â””â”€â”€ page.tsx             â€” ìœ ì € ì œë³´
â”œâ”€â”€ me/
â”‚   â”œâ”€â”€ page.tsx             â€” ë§ˆì´í˜ì´ì§€ (ì €ì¥ë”œ/êµ¬ë…/ì„¤ì • íƒ­ + ê´€ì‹¬ì¹´í…Œê³ ë¦¬/ì¶”ì²œë¸Œëœë“œ)
â”‚   â””â”€â”€ loading.tsx          â€” ë§ˆì´ ìŠ¤ì¼ˆë ˆí†¤ âœ… ì‹ ê·œ
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ page.tsx             â€” ë¡œê·¸ì¸/ê°€ì… (ë°”í…€ì‹œíŠ¸ ì—°ë™)
â”‚   â””â”€â”€ callback/
â”‚       â””â”€â”€ route.ts         â€” SNS OAuth ì½œë°±
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ submit/route.ts
â”‚   â”œâ”€â”€ actions/route.ts
â”‚   â”œâ”€â”€ actions/search/route.ts  â€” ê²€ìƒ‰ ë¡œê·¸ âœ… ì‹ ê·œ
â”‚   â””â”€â”€ me/
â”‚       â”œâ”€â”€ saved-deals/route.ts
â”‚       â”œâ”€â”€ follows/merchants/route.ts
â”‚       â””â”€â”€ delete-account/route.ts  â€” ê³„ì • íƒˆí‡´ âœ… ì‹ ê·œ
â””â”€â”€ out/[dealId]/route.ts    â€” í´ë¦­ íŠ¸ë˜í‚¹
```

### ì–´ë“œë¯¼ ì•± (poppon-admin)
```
src/app/
â”œâ”€â”€ layout.tsx               â€” ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”œâ”€â”€ login/
â”‚   â””â”€â”€ page.tsx             â€” ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸
â”œâ”€â”€ (dashboard)/
â”‚   â”œâ”€â”€ layout.tsx           â€” ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜ (ê²½ë¡œ ìˆ˜ì • ì™„ë£Œ)
â”‚   â”œâ”€â”€ page.tsx             â€” ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ deals/               â€” ë”œ CRUD
â”‚   â”œâ”€â”€ merchants/           â€” ë¨¸ì²œíŠ¸ CRUD
â”‚   â”œâ”€â”€ members/             â€” íšŒì› ê´€ë¦¬ âœ… ì‹ ê·œ
â”‚   â”‚   â”œâ”€â”€ page.tsx         â€” íšŒì› ëª©ë¡
â”‚   â”‚   â””â”€â”€ [id]/page.tsx    â€” íšŒì› ìƒì„¸
â”‚   â””â”€â”€ crawls/              â€” í¬ë¡¤ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ auth/route.ts
â”‚   â”œâ”€â”€ deals/route.ts
â”‚   â”œâ”€â”€ merchants/route.ts
â”‚   â”œâ”€â”€ members/             â€” íšŒì› ê´€ë¦¬ API âœ… ì‹ ê·œ
â”‚   â”‚   â”œâ”€â”€ route.ts         â€” ëª©ë¡ GET + ìƒíƒœë³€ê²½ PATCH
â”‚   â”‚   â””â”€â”€ [id]/route.ts   â€” ìƒì„¸ GET
â”‚   â”œâ”€â”€ ai-crawl/route.ts
â”‚   â””â”€â”€ cron/
â”‚       â”œâ”€â”€ crawl/route.ts
â”‚       â””â”€â”€ expire/route.ts
```

### ë¯¸ë“¤ì›¨ì–´ ë³´í˜¸ ê²½ë¡œ
- **ë©”ì¸**: `/brand/*` â†’ ë¡œê·¸ì¸ í•„ìˆ˜
- **ì–´ë“œë¯¼**: ì „ì²´ â†’ ADMIN_SECRET ì¿ í‚¤ í•„ìˆ˜ (login ì œì™¸)

---

## API êµ¬ì¡° ìš”ì•½

### ë©”ì¸ ì•± â€” Public (ë¹„ë¡œê·¸ì¸)
- `GET /deals` â€” ë”œ ëª©ë¡/ê²€ìƒ‰ (q, category, merchant, benefit_tag, channel, date, sort)
- `GET /deals/:id` â€” ë”œ ìƒì„¸
- `GET /categories` â€” ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬
- `GET /merchants` / `GET /merchants/:id`
- `GET /home` â€” í™ˆ ì„¹ì…˜ (sponsored, trending, new, ending_soon, categories)
- `POST /api/submit` â€” ìœ ì € ì œë³´ âœ…

### ë©”ì¸ ì•± â€” Member (ë¡œê·¸ì¸)
- `GET /auth/callback` â€” SNS OAuth ì½œë°± âœ…
- `GET|POST|DELETE /api/me/saved-deals` â€” ë”œ ì €ì¥/í•´ì œ âœ…
- `GET|POST|DELETE /api/me/follows/merchants` â€” ë¸Œëœë“œ êµ¬ë…/í•´ì œ âœ…
- `DELETE /api/me/delete-account` â€” ê³„ì • íƒˆí‡´ (soft delete) âœ… ì‹ ê·œ
- `POST /api/actions/search` â€” ê²€ìƒ‰ ë¡œê·¸ ê¸°ë¡ âœ… ì‹ ê·œ
- ì•Œë¦¼: `PUT /me/notification-preferences` (kakao/sms/email/push)
- ë™ì˜: `PUT /me/consents`
- ì•¡ì…˜: `POST /deals/:id/actions` (view, click_out, copy_code, save, share)
- í”¼ë“œë°±: `POST /deals/:id/feedback` (work/fail)

### ì–´ë“œë¯¼ ì•±
- `POST /api/auth` â€” ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ âœ…
- `GET|POST /api/deals` + `GET|PUT|DELETE /api/deals/:id` âœ…
- `GET|POST /api/merchants` + `GET|PUT|DELETE /api/merchants/:id` âœ…
- `GET|PATCH /api/members` â€” íšŒì› ëª©ë¡+í†µê³„+ìƒíƒœë³€ê²½ âœ… ì‹ ê·œ
- `GET /api/members/:id` â€” íšŒì› ìƒì„¸+í–‰ë™ë¡œê·¸+ê²€ìƒ‰ë¡œê·¸ âœ… ì‹ ê·œ
- `GET|POST /api/ai-crawl` â€” AI í¬ë¡¤ í˜„í™©/ì‹¤í–‰ âœ…
- `POST /api/ai-crawl/:connectorId` â€” ë‹¨ì¼ AI í¬ë¡¤ âœ…
- `GET /api/cron/crawl` â€” ì¼ì¼ ìë™ í¬ë¡¤ ë°°ì¹˜ âœ…
- `GET /api/cron/expire` â€” ë§Œë£Œ ë”œ ìë™ ì²˜ë¦¬ âœ…

### Brand Portal (ë¯¸ì°©ìˆ˜)
- `POST /brand/auth/login`
- `GET|PUT /brand/profile`
- `GET|POST|PUT /brand/deals` + `POST /brand/deals/:id/submit`
- `GET /brand/stats`

### íŠ¸ë˜í‚¹ (ë©”ì¸ ì•±)
- `GET /out/:dealId` â€” ì•„ì›ƒë°”ìš´ë“œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (í´ë¦­ë¡œê·¸ + 302) âœ…

---

## ë”œ íƒ€ì… ë¶„ë¥˜
| íƒ€ì… | ì„¤ëª… | CTA |
|------|------|-----|
| A1 | ì¿ í°/í”„ë¡œëª¨ì…˜ ì½”ë“œí˜• | CopyCodeButton + GoToSource |
| A2 | ê°€ê²©ë”œ/í•«ë”œ (ìµœì €ê°€/íŠ¹ê°€) | GoToSource (ì œíœ´ë§í¬) |
| B | ì•±ì¿ í°/ë§í¬í˜• | GetCouponButton + GoToSource |
| C | ì˜¤í”„ë¼ì¸ ì´ë²¤íŠ¸ | StoreInfoPanel + GoToSource |

---

## íƒœê·¸ ì²´ê³„
- **í˜œíƒ (benefit_tags)**: percent_off, amount_off, bogo, free_shipping, gift_with_purchase, bundle_deal, clearance, member_only, new_user, app_only, limited_time
- **ì¡°ê±´**: êµ¬ì¡°í™” conditions[] = { type, value, text }
- **ê¸´ê¸‰**: ending_soon_24h, ending_soon_3d, new_today, updated_today
- **ì±„ë„**: online_only, offline_only, hybrid

---

## ì¹´í…Œê³ ë¦¬ (6ê°œ í™œì„±)
| name | slug | ìƒíƒœ |
|------|------|------|
| íŒ¨ì…˜ | fashion | âœ… active |
| ë·°í‹° | beauty | âœ… active |
| ì‹í’ˆ/ë°°ë‹¬ | food | âœ… active |
| ìƒí™œ/ë¦¬ë¹™ | living | âœ… active (ë””ì§€í„¸/ê°€ì „ í¡ìˆ˜) |
| ì—¬í–‰/ë ˆì € | travel | âœ… active |
| ë¬¸í™”/ì½˜í…ì¸  | culture | âœ… active |

### ë¹„í™œì„±í™”ëœ ì¹´í…Œê³ ë¦¬ (6ê°œ)
| name | slug | ì‚¬ìœ  |
|------|------|------|
| ë””ì§€í„¸/ê°€ì „ | digital | â†’ ìƒí™œ/ë¦¬ë¹™ìœ¼ë¡œ ë”œ ì´ë™ |
| ê±´ê°•/í—¬ìŠ¤ | health | ë³¼ë¥¨ ë¶€ì¡±, ì¶”í›„ ì¬í™œì„±í™” ê°€ëŠ¥ |
| í‚¤ì¦ˆ/êµìœ¡ | kids | ë³¼ë¥¨ ë¶€ì¡±, ì¶”í›„ ì¬í™œì„±í™” ê°€ëŠ¥ |
| ë°˜ë ¤ë™ë¬¼ | pets | ë³¼ë¥¨ ë¶€ì¡±, ì¶”í›„ ì¬í™œì„±í™” ê°€ëŠ¥ |
| ìë™ì°¨/ì£¼ìœ  | auto | ë”œ í”Œë«í¼ ë¶€ì í•© |
| ê¸ˆìœµ/í†µì‹  | finance | ë”œ í”Œë«í¼ ë¶€ì í•© |

---

## DB í…Œì´ë¸” (ì£¼ìš”)
| í…Œì´ë¸” | ìƒíƒœ | ë°ì´í„° |
|--------|------|--------|
| deals | âœ… | **~639 active** |
| merchants | âœ… | **~339ê°œ** (ì „ì› ë¡œê³ +brand_color ë³´ìœ ) |
| categories | âœ… | **6ê°œ active** / 6ê°œ ë¹„í™œì„± |
| crawl_connectors | âœ… | **256 active** / 157 disabled / 0 error |
| deal_actions | âœ… | 72ê±´+ (íŠ¸ë˜í‚¹ ì‘ë™ì¤‘) |
| submissions | âœ… | 0 |
| **profiles** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸”) |
| **user_consents** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸”) |
| **saved_deals** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸”) |
| **followed_merchants** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸”) |
| **followed_categories** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸”) |
| **notification_preferences** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸”) |
| **search_logs** | âœ… | 0 (ì‹ ê·œ í…Œì´ë¸” â€” ê²€ìƒ‰ì–´/user_id/session_id/ê²°ê³¼ìˆ˜) |

### ì¹´í…Œê³ ë¦¬ë³„ ë¨¸ì²œíŠ¸/ë”œ í˜„í™© (2/16 í’€í¬ë¡¤ í›„ â€” SQL ì¬ì¡°íšŒ í•„ìš”)
| ì¹´í…Œê³ ë¦¬ | ë¨¸ì²œíŠ¸ | active ë”œ (ì¶”ì •) |
|---------|--------|-----------|
| ë·°í‹° | 60+ | ~150+ |
| ì‹í’ˆ/ë°°ë‹¬ | 45+ | ~140+ |
| ë¬¸í™”/ì½˜í…ì¸  | 33+ | ~130+ |
| ìƒí™œ/ë¦¬ë¹™ | 49+ | ~130+ |
| íŒ¨ì…˜ | 40+ | ~90+ |
| ì—¬í–‰/ë ˆì € | 29+ | ~50+ |
| **í•©ê³„** | **256+** | **~639** |

### deals í…Œì´ë¸” (ì „ì²´ ìŠ¤í‚¤ë§ˆ)
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK |
| merchant_id | uuid | FK â†’ merchants |
| category_id | uuid | FK â†’ categories |
| subcategory_id | uuid | nullable, FK â†’ categories |
| title | varchar | |
| description | text | nullable |
| deal_type | varchar | A1/A2/B/C |
| status | varchar | pending/active/hidden/expired |
| channel | varchar | online/offline/hybrid |
| benefit_tags | text[] | percent_off, amount_off ë“± 11ì¢… |
| benefit_summary | varchar | "ìµœëŒ€ 50% í• ì¸" |
| coupon_code | varchar | A1 íƒ€ì…ìš© |
| discount_value | numeric | % ë˜ëŠ” ì› |
| discount_type | varchar | percent/amount |
| price | numeric | A2 ê°€ê²©ë”œìš© |
| original_price | numeric | |
| discount_rate | numeric | |
| conditions | jsonb | [{type, value, text}] |
| how_to_use | text | |
| starts_at | timestamptz | |
| ends_at | timestamptz | |
| is_evergreen | boolean | ìƒì‹œ ì§„í–‰ ì—¬ë¶€ |
| source_type | varchar | crawl/brand/user_submit/affiliate/admin |
| source_url | text | ì›ë³¸ ë§í¬ |
| landing_url | text | ì´ë™ ë§í¬ |
| affiliate_url | text | ì œíœ´ ë§í¬ |
| affiliate_disclosure | boolean | |
| thumbnail_url | text | |
| og_image_url | text | |
| quality_score | integer | 0~100 |
| trending_score | integer | |
| view_count | integer | |
| click_out_count | integer | |
| save_count | integer | |
| feedback_work_count | integer | |
| feedback_fail_count | integer | |
| slug | varchar | SEO URL (í•œê¸€ í¬í•¨) |
| meta_title | varchar | |
| meta_description | varchar | |
| created_at | timestamptz | |
| updated_at | timestamptz | |
| expired_at | timestamptz | ì‹¤ì œ ë§Œë£Œ ì²˜ë¦¬ ì‹œê° |

### merchants í…Œì´ë¸” (~339ê°œ)
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK |
| name | varchar | |
| slug | varchar | SEO URL (ì˜ë¬¸: oliveyoung, innisfree ë“±) |
| logo_url | text | Puppeteer/êµ¬ê¸€ ì´ë¯¸ì§€ ìˆ˜ì§‘ |
| brand_color | varchar | ë¸Œëœë“œ ê³ ìœ  ìƒ‰ìƒ (#hex), 339ê°œ ì ìš© |
| description | text | |
| official_url | text | |
| category_ids | uuid[] | **âœ… 6ê°œ ì¹´í…Œê³ ë¦¬ ë§¤í•‘ ì™„ë£Œ** |
| is_verified | boolean | |
| follower_count | integer | |
| active_deal_count | integer | |
| created_at | timestamptz | |
| updated_at | timestamptz | |

### categories í…Œì´ë¸”
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK |
| parent_id | uuid | nullable, ì…€í”„ì¡°ì¸ |
| name | varchar | í•œê¸€ (íŒ¨ì…˜, ë·°í‹° ë“±) |
| slug | varchar | ì˜ë¬¸ (fashion, beauty ë“±) |
| description | text | |
| icon | varchar | |
| sort_order | integer | |
| is_active | boolean | **6ê°œ true / 6ê°œ false** |
| deal_count | integer | |
| depth | integer | 0=ëŒ€, 1=ì¤‘, 2=ì†Œ |
| created_at | timestamptz | |

### profiles í…Œì´ë¸” âœ… ì‹ ê·œ
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK, FK â†’ auth.users |
| phone | varchar | ì „í™”ë²ˆí˜¸ |
| name | varchar | ì´ë¦„ |
| nickname | varchar | ë‹‰ë„¤ì„ |
| avatar_url | text | |
| gender | varchar | |
| birth_year | integer | |
| interested_categories | uuid[] | ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ |
| marketing_opt_in | boolean | ë§ˆì¼€íŒ… ë™ì˜ |
| marketing_opt_in_at | timestamptz | |
| role | varchar | user/admin/super_admin |
| **status** | varchar | âœ… active/withdrawn/banned (ì‹ ê·œ) |
| **withdrawn_at** | timestamptz | âœ… íƒˆí‡´ ìš”ì²­ ì‹œê° (ì‹ ê·œ) |
| **withdraw_reason** | text | âœ… íƒˆí‡´ ì‚¬ìœ  (ì‹ ê·œ) |
| created_at | timestamptz | |
| updated_at | timestamptz | |

### saved_deals í…Œì´ë¸” âœ… ì‹ ê·œ
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK |
| user_id | uuid | FK â†’ auth.users |
| deal_id | uuid | FK â†’ deals |
| created_at | timestamptz | |
| UNIQUE(user_id, deal_id) | | |

### followed_merchants í…Œì´ë¸” âœ… ì‹ ê·œ
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK |
| user_id | uuid | FK â†’ auth.users |
| merchant_id | uuid | FK â†’ merchants |
| created_at | timestamptz | |
| UNIQUE(user_id, merchant_id) | | |

### crawl_connectors í…Œì´ë¸” (v3 ì»¬ëŸ¼ ì¶”ê°€)
```
id, name, merchant_id, source_url, config, status, fail_count,
last_run_at, created_at, updated_at,
content_hash VARCHAR(32),       -- âœ… v3 ì¶”ê°€: MD5 í•´ì‹œ
hash_updated_at TIMESTAMPTZ     -- âœ… v3 ì¶”ê°€: í•´ì‹œ ì €ì¥ ì‹œì 
```

### deal_actions í…Œì´ë¸”
id, deal_id, user_id(nullable), session_id(ppn_sid), action_type(view/click_out/copy_code/save/share), metadata(jsonb), created_at

### search_logs í…Œì´ë¸” âœ… ì‹ ê·œ
| ì»¬ëŸ¼ | íƒ€ì… | ë¹„ê³  |
|------|------|------|
| id | uuid | PK |
| user_id | uuid | nullable, FK â†’ auth.users |
| session_id | varchar | ë¹„ë¡œê·¸ì¸ ì„¸ì…˜ |
| query | text | ê²€ìƒ‰ì–´ |
| category_slug | varchar | ì¹´í…Œê³ ë¦¬ í•„í„° |
| result_count | integer | ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ |
| created_at | timestamptz | |

### ì¡°ì¸ ê´€ê³„
```
deals.merchant_id â†’ merchants.id
deals.category_id â†’ categories.id (FK: deals_category_id_fkey)
deals.subcategory_id â†’ categories.id (FK: deals_subcategory_id_fkey)
categories.parent_id â†’ categories.id (ì…€í”„ì¡°ì¸)
profiles.id â†’ auth.users.id
saved_deals.user_id â†’ auth.users.id
saved_deals.deal_id â†’ deals.id
followed_merchants.user_id â†’ auth.users.id
followed_merchants.merchant_id â†’ merchants.id
```
**âš ï¸ Supabase ì¡°ì¸ ì‹œ ì£¼ì˜**: deals â†’ categories ì¡°ì¸ ì‹œ FK ëª…ì‹œ í•„ìš”
```
categories!deals_category_id_fkey (name)
```

### RLS ì •ì±…
| í…Œì´ë¸” | ì •ì±… | ì¡°ê±´ |
|--------|------|------|
| deals | Active deals are viewable by everyone | SELECT: status = 'active' OR 'expired' |
| deals | Admins can do everything | ALL: users.role IN ('admin', 'super_admin') |
| merchants | Merchants are viewable by everyone | SELECT: ì „ì²´ |
| categories | Categories are viewable by everyone | SELECT: ì „ì²´ |
| submissions | Anyone can insert | INSERT: true |
| submissions | Users can view own | SELECT: auth.uid() = user_id |
| profiles | Users can view/update own | SELECT/UPDATE: auth.uid() = id |
| saved_deals | Users can manage own | ALL: auth.uid() = user_id |
| followed_merchants | Users can manage own | ALL: auth.uid() = user_id |

---

## íšŒì›ê°€ì…/ì¸ì¦ ì‹œìŠ¤í…œ âœ… ì‹ ê·œ

### ì•„í‚¤í…ì²˜
```
ê°€ì… íŠ¸ë¦¬ê±° (ë¡œê·¸ì¸ ë²„íŠ¼, ë”œ ì €ì¥, ë¸Œëœë“œ êµ¬ë… ë“±)
  â†’ AuthSheet ë°”í…€ì‹œíŠ¸(ëª¨ë°”ì¼)/ì„¼í„°ëª¨ë‹¬(ë°ìŠ¤í¬í†±) ë…¸ì¶œ
    â†’ ì´ë©”ì¼ íšŒì›ê°€ì… ë˜ëŠ” SNS ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/ì• í”Œ â€” ì¤€ë¹„ ì¤‘)
      â†’ Supabase Auth â†’ profiles ìë™ ìƒì„± (íŠ¸ë¦¬ê±°)
        â†’ ë³¸ì¸ì¸ì¦ KMC/PASS (placeholder, ì—°íœ´ í›„ ì—°ë™)
          â†’ ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ ì„ íƒ (í˜œíƒ ê°•ì¡°í˜•, ì„ íƒ)
            â†’ ë§ˆì¼€íŒ… ë™ì˜ (ì•Œë¦¼í†¡/í‘¸ì‹œ/ì´ë©”ì¼)

íƒˆí‡´ í”Œë¡œìš°:
  ë§ˆì´í˜ì´ì§€ â†’ ì„¤ì • íƒ­ â†’ íšŒì› íƒˆí‡´ (ì‚¬ìœ  ì„ íƒ)
    â†’ profiles.status = 'withdrawn' (soft delete)
      â†’ 30ì¼ í›„ ì–´ë“œë¯¼ Cronì—ì„œ ì™„ì „ ì‚­ì œ
      â†’ ì–´ë“œë¯¼ì—ì„œ ë³µêµ¬ ê°€ëŠ¥
```

### êµ¬í˜„ í˜„í™©
- âœ… DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ (profiles, user_consents, saved_deals, followed_merchants, followed_categories, notification_preferences + RLS + íŠ¸ë¦¬ê±°)
- âœ… profilesì— status/withdrawn_at/withdraw_reason/role ì»¬ëŸ¼ ì¶”ê°€
- âœ… search_logs í…Œì´ë¸” ìƒì„±
- âœ… AuthProvider (ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬ + withdrawn/banned ì²´í¬ + tracking userId ì—°ë™)
- âœ… AuthSheet 6ë‹¨ê³„ ê°€ì… í”Œë¡œìš° (mainâ†’signupâ†’loginâ†’identityâ†’categoriesâ†’marketing)
- âœ… auth/page.tsx (ë¹„ë¡œê·¸ì¸ ì‹œ AuthSheet ìë™ ì—´ê¸°)
- âœ… auth/callback/route.ts (OAuth ì½œë°±)
- âœ… me/page.tsx (ë°ì´í„° ì—°ë™ + ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ + ê³„ì • íƒˆí‡´ soft delete)
- âœ… saved-deals API (GET/POST/DELETE)
- âœ… follows/merchants API (GET/POST/DELETE)
- âœ… delete-account API (soft delete â†’ status: withdrawn)
- âœ… TopNav í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ (ë°ìŠ¤í¬í†±) + ë¡œê·¸ì•„ì›ƒ ë¦¬ë‹¤ì´ë ‰íŠ¸
- âœ… Toast ì•Œë¦¼ ì‹œìŠ¤í…œ (ê°€ì…/ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í”¼ë“œë°±)
- âœ… ë¡œê·¸ì¸ ì´ë©”ì¼ ê¸°ì–µí•˜ê¸° (localStorage)
- âœ… ë¡œê·¸ì¸/íšŒì›ê°€ì… Enter í‚¤ submit ì§€ì›
- âœ… tracking.ts user_id ì—°ë™ (ë¡œê·¸ì¸ ì‹œ ìë™ í¬í•¨)
- âœ… actions API user_id ì €ì¥ + metadata ì €ì¥
- âœ… search_logs API (ê²€ìƒ‰ì–´ ê¸°ë¡)
- â¬œ Supabase Auth Provider ì„¤ì • (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/ì• í”Œ)
- â¬œ KMC ë³¸ì¸ì¸ì¦ ì—°ë™ (placeholder ìƒíƒœ, ì—°íœ´ í›„)
- â¬œ ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ (ì±„ë„ ê°œì„¤ í•„ìš”)

### í™˜ê²½ë³€ìˆ˜

#### ë©”ì¸ ì•± (.env.local)
```
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=sb_publishable_... (âœ… ì‹ ê·œ í‚¤ ì‹œìŠ¤í…œ)
SUPABASE_SERVICE_ROLE_KEY=sb_secret_... (âœ… ì‹ ê·œ í‚¤ ì‹œìŠ¤í…œ)
```

#### ì–´ë“œë¯¼ ì•± (.env.local)
```
NEXT_PUBLIC_SUPABASE_URL=... (ë™ì¼)
NEXT_PUBLIC_SUPABASE_ANON_KEY=sb_publishable_... (ë™ì¼)
SUPABASE_SERVICE_ROLE_KEY=sb_secret_... (ë™ì¼)
ADMIN_SECRET=... (âœ… 2/16 ë³€ê²½ë¨)
ANTHROPIC_API_KEY=sk-ant-api03-... (âœ… 2/16 ì¬ë°œê¸‰)
CRON_SECRET=...
NEXT_PUBLIC_MAIN_URL=https://poppon.kr
```

---

## AI í¬ë¡¤ëŸ¬ v3 (ì–´ë“œë¯¼ ì•±ì—ì„œ ê´€ë¦¬)

### ì „ëµ ì „í™˜ íˆìŠ¤í† ë¦¬
1. **static_html íŒŒì‹±** â†’ ì‹¤íŒ¨ (í•œêµ­ ì‚¬ì´íŠ¸ ëŒ€ë¶€ë¶„ JS ë Œë”ë§ + AJAX)
2. **API ì§ì ‘ í˜¸ì¶œ** â†’ ì„±ê³µ (ìŠ¤íƒ€ë²…ìŠ¤ 36ê°œ, í´ë¦¬ì˜¤ 14ê°œ) ë‹¨, 162ê°œ ì‚¬ì´íŠ¸ë³„ API ì°¾ëŠ” ê±´ ë¹„í˜„ì‹¤ì 
3. **Puppeteer + Claude AI** â†’ âœ… ìµœì¢… ì±„íƒ. URLë§Œ ë“±ë¡í•˜ë©´ ìë™ ì¶”ì¶œ

### ì•„í‚¤í…ì²˜
```
ë¸Œëœë“œ URL (ì»¤ë„¥í„°)
  â†’ Puppeteer (ì´ë¯¸ì§€ ì°¨ë‹¨, 15s íƒ€ì„ì•„ì›ƒ)
    â†’ MD5 í•´ì‹œ vs DB content_hash ë¹„êµ
      â†’ ë³€ê²½ ì—†ìŒ â†’ ìŠ¤í‚µ (AI í˜¸ì¶œ ì•ˆ í•¨)
      â†’ ë³€ê²½ ìˆìŒ â†’ Claude Haiku íŒŒì‹± + í›„ì²˜ë¦¬ í•„í„°
        â†’ save-deals v2 (URL+title ì¤‘ë³µì²´í¬)
        â†’ content_hash DBì— ì €ì¥
```

### ë¹„ìš© ì˜ˆì¸¡
| ë¸Œëœë“œ ìˆ˜ | ì²« í¬ë¡¤ | ì´í›„ ì›”ê°„ (ì¼1íšŒ, í•´ì‹œì ìš©) |
|----------|--------|----------------------|
| í˜„ì¬ ~150ê°œ | ~$3 | ~$15 |
| ëª©í‘œ 300ê°œ+ | ~$7 | ~$20 (2ë§Œì›) |

---

## ë¨¸ì²œíŠ¸ ë¡œê³  ìˆ˜ì§‘ íˆìŠ¤í† ë¦¬

### ì „ëµ ë³€ì²œ
| ë²„ì „ | ë°©ì‹ | ê²°ê³¼ |
|------|------|------|
| v2 | HTTPë¡œ apple-touch-icon ê²½ë¡œ ì¶”ì¸¡ | 108 ê³ í’ˆì§ˆ + 168 ì €í’ˆì§ˆ(Google Favicon) + 7 ì‹¤íŒ¨ |
| v3.1 | Puppeteer ì‚¬ì´íŠ¸ ì ‘ì† + DOM íŒŒì‹± | 59ê°œ êµì²´ (SVG 13 + apple-touch 37 + header-logo 9) |
| êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ | Puppeteer `"[ë¸Œëœë“œëª…] CI"` ê²€ìƒ‰ | í…ŒìŠ¤íŠ¸ 10/10 ì„±ê³µ, ì „ì²´ ~102ê°œ ì‹¤í–‰ |

### ìˆ˜ë™ êµì²´ ë¡œê³  (public/logos/)
| íŒŒì¼ëª… | ë¨¸ì²œíŠ¸ |
|--------|--------|
| samsung.svg | ì‚¼ì„±ë‹·ì»´ |
| oliveyoung.png | ì˜¬ë¦¬ë¸Œì˜ (ì—¬ë°± í¬ë¡­) |
| kyobobook.png | êµë³´ë¬¸ê³  |
| lottecinema.jpg | ë¡¯ë°ì‹œë„¤ë§ˆ |
| baskinrobbins.png | ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤ |
| innisfree.png | ì´ë‹ˆìŠ¤í”„ë¦¬ |
| nintendo.jpg | ë‹Œí…ë„ |
| doubleheart.png | ë”ë¸”í•˜íŠ¸ |
| upang.jpg | ìœ íŒ¡ |
| coupang.png | ì¿ íŒ¡ (ì—¬ë°± í¬ë¡­) |
| nongshim.jpg | ë†ì‹¬ (ì—¬ë°± í¬ë¡­, ì‹ ë¼ë©´â†’ë†ì‹¬ ì´ë¦„ë³€ê²½) |
| 29cm.png | 29CM (ì—¬ë°± í¬ë¡­) |

### âš ï¸ ë¡œê³  ë¯¸í•´ê²°
- ê¸°ì¡´ ì €í’ˆì§ˆ ~100ê°œ: êµì²´ í•„ìš”

---

## ë¸Œëœë“œ í™•ì¥ íˆìŠ¤í† ë¦¬

### ì¹´í…Œê³ ë¦¬ êµ¬ì¡°ì¡°ì • (2/16)
- **12ê°œ â†’ 6ê°œ**: ìë™ì°¨/ì£¼ìœ , ê¸ˆìœµ/í†µì‹  ì œê±° (ë”œ í”Œë«í¼ ë¶€ì í•©), ë””ì§€í„¸/ê°€ì „ â†’ ìƒí™œ/ë¦¬ë¹™ í¡ìˆ˜, ê±´ê°•/í‚¤ì¦ˆ/ë°˜ë ¤ë™ë¬¼ ë³´ë¥˜
- **ì‚¬ìœ **: ì ì€ ì¹´í…Œê³ ë¦¬ì— ë”œì´ ë¹½ë¹½í•œ ê²Œ ì‚¬ìš©ì ì‹ ë¢°ê° ë†’ìŒ

### ë¸Œëœë“œ ë§ˆìŠ¤í„° ë¦¬ìŠ¤íŠ¸ (poppon-brand-master.csv)
| ì¹´í…Œê³ ë¦¬ | ë¸Œëœë“œ ìˆ˜ |
|---------|----------|
| ë·°í‹° | 50 |
| ì‹í’ˆ/ë°°ë‹¬ | 44 |
| ìƒí™œ/ë¦¬ë¹™ | 40 |
| íŒ¨ì…˜ | 36 |
| ì—¬í–‰/ë ˆì € | 30 |
| ë¬¸í™”/ì½˜í…ì¸  | 30 |
| **í•©ê³„** | **230** |

### ë¸Œëœë“œ í™•ì¥ íŒŒì´í”„ë¼ì¸
```
[1] ë¸Œëœë“œ ë§ˆìŠ¤í„° ë¦¬ìŠ¤íŠ¸ (ì™„ë£Œ: 230ê°œ)
    â†“
[2] ì´ë²¤íŠ¸ í˜ì´ì§€ ìë™ íƒì§€ (detect-event-pages.ts)
    â†’ ê³µì‹ URL â†’ /event, /promotion ìë™ ë°œê²¬
    â†“
[3] ì»¤ë„¥í„° ë“±ë¡ â†’ AI í¬ë¡¤
    â†’ ì²« íšŒë§Œ í’€í¬ë¡¤, ì´í›„ í•´ì‹œë¡œ ìŠ¤í‚µ
```

---

## ğŸ‘¤ íšŒì›ê°€ì… & í–‰ë™ì¶”ì 

### ê°€ì… íŠ¸ë¦¬ê±°
ë”œ ì €ì¥, ë¸Œëœë“œ êµ¬ë…, ì¿ í° 3íšŒ~, í”¼ë“œë°± â†’ AuthSheet ë°”í…€ì‹œíŠ¸

### í”Œë¡œìš°
SNS ê°„í¸ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/ì• í”Œ) â†’ ê´€ì‹¬ ì¹´í…Œê³ ë¦¬(ì„ íƒ) â†’ ë§ˆì¼€íŒ… ë™ì˜ â†’ ì™„ë£Œ

### êµ¬í˜„ í˜„í™©
- âœ… íšŒì› DB 6ê°œ í…Œì´ë¸” + RLS + íŠ¸ë¦¬ê±° (Supabase ì‹¤í–‰ ì™„ë£Œ)
- âœ… AuthProvider + AuthSheet + ë°”í…€ì‹œíŠ¸ UI
- âœ… ë”œ ì €ì¥/ë¸Œëœë“œ êµ¬ë… API
- âœ… ë§ˆì´í˜ì´ì§€ ë°ì´í„° ì—°ë™
- âœ… deal_actions í…Œì´ë¸” + tracking.ts + API ì—°ë™
- â¬œ Supabase OAuth Provider ì„¤ì • (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/ì• í”Œ)
- â¬œ KMC ë³¸ì¸ì¸ì¦
- â¬œ ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡

---

## TargetUP-AI ì—°ë™ (ìˆ˜ìµí™”)
- **ìµœì†Œ ì„¸ê·¸ë¨¼íŠ¸ ë°ì´í„°**: phone_hash, marketing_opt_in, ê´€ì‹¬ ì¹´í…Œê³ ë¦¬/ë¸Œëœë“œ, ìµœê·¼ 30/60/90ì¼ í–‰ë™ ìš”ì•½
- **ì—°ë™ ë°©ì‹**: v1ì—ì„œëŠ” ì˜µì…˜ B(ì¼ ë°°ì¹˜) ê¶Œì¥ â€” segments_daily í…Œì´ë¸” ë™ê¸°í™”
- **ì˜ˆì‹œ ì„¸ê·¸ë¨¼íŠ¸**: beauty_skin_30d_active, food_delivery_high_intent ë“±

---

## ìš´ì˜ ì •ì±… í•µì‹¬
- ì¶œì²˜/ê³µì‹ë§í¬ í•­ìƒ í‘œì‹œ, ì´ë¯¸ì§€ëŠ” ì¸ë„¤ì¼/OG ìˆ˜ì¤€
- í¬ë¡¤ë§: robots ì¡´ì¤‘, ì‹¤íŒ¨ 3íšŒ â†’ ìë™ ë¹„í™œì„±í™”
- ë§Œë£Œ: ìë™ expired ì „í™˜, SEO 7~30ì¼ ìœ ì§€ í›„ noindex
- í’ˆì§ˆ: ì•ˆë¨ 10ê±´+/30%â†‘ â†’ ê²€ìˆ˜, 30ê±´+/50%â†‘ â†’ ìˆ¨ê¹€
- ê´‘ê³ : ìŠ¤í°ì„œ ë¼ë²¨ í•„ìˆ˜, í’ˆì§ˆ ê·œì¹™ ë™ì¼ ì ìš©
- ê°œì¸ì •ë³´: ë§ˆì¼€íŒ… ë™ì˜ ê¸°ë¡, ì² íšŒ ì¦‰ì‹œ ë°˜ì˜+ì´ë ¥ ë³´ê´€

---

## ë¶„ì„ ì´ë²¤íŠ¸ (í•„ìˆ˜ ìˆ˜ì§‘)
deal_view, deal_click_out, deal_copy_code, deal_save, merchant_follow, category_follow, deal_feedback_work/fail, search_performed, signup_start/complete, marketing_opt_in_on/off, digest_sent

---

## ê°œë°œ Phase

### Phase 0 â€” âœ… ì™„ë£Œ
DB 18ê°œ í…Œì´ë¸” + RLS, ì „ì²´ í˜ì´ì§€ (í™ˆ/ê²€ìƒ‰/ì¹´í…Œê³ ë¦¬/ë¸Œëœë“œê´€/ë”œìƒì„¸/ì œë³´/ë¡œê·¸ì¸/ë§ˆì´í˜ì´ì§€), ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ, AI í¬ë¡¤ëŸ¬ v3, Vercel ë°°í¬

### Phase 1 â€” ì§„í–‰ì¤‘
í¬ë¡¤ëŸ¬ ìš´ì˜ + ë§Œë£Œ ìë™í™” + ë””ìì¸ ë³´ê°• + íšŒì› ê¸°ëŠ¥ + **ë¸Œëœë“œ í™•ì¥** + **ì–´ë“œë¯¼ ë¶„ë¦¬** âœ…

### Phase 2 â€” ë¯¸ì°©ìˆ˜
ë¸Œëœë“œ í¬í„¸ / ìŠ¤í°ì„œ ìŠ¬ë¡¯ / ì„±ê³¼ ì •ì‚°

---

## âœ… ì™„ë£Œëœ ì‘ì—… (ë‚ ì§œìˆœ)

### DB / ì¸í”„ë¼ (2/14)
- [x] Supabase í”„ë¡œì íŠ¸ ìƒì„± + 18ê°œ í…Œì´ë¸” + RLS + í•¨ìˆ˜ + íŠ¸ë¦¬ê±°
- [x] 12ëŒ€ ì¹´í…Œê³ ë¦¬ ì‹œë“œ + 11ì¢… benefit_tags ì •ì˜
- [x] 283ê°œ ë¨¸ì²œíŠ¸ ì‹œë“œ + brand_color 264ê°œ ì ìš©
- [x] ì œíœ´ ë„¤íŠ¸ì›Œí¬ í…Œì´ë¸” (affiliate_networks, affiliate_offers, affiliate_merchant_map)

### AI í¬ë¡¤ëŸ¬ (2/14)
- [x] Puppeteer + Claude Haiku í¬ë¡¤ëŸ¬ êµ¬ì¶•
- [x] ì´ë²¤íŠ¸ í˜ì´ì§€ ìë™ íƒì§€ ìŠ¤í¬ë¦½íŠ¸
- [x] 1ì°¨ í¬ë¡¤ë§ ì™„ë£Œ (272/349 ì„±ê³µ, ì‹ ê·œ 773 + ì—…ë°ì´íŠ¸ 807, $4.32)

### ì‚¬ìš©ì ì›¹ (2/14~15)
- [x] / í™ˆ â€” íŠ¸ë Œë”©/ì‹ ê·œ/ë§ˆê°ì„ë°• 3ê°œ ì„¹ì…˜
- [x] /search â€” í’€í…ìŠ¤íŠ¸ ê²€ìƒ‰ + ì¹´í…Œê³ ë¦¬/í˜œíƒ/ì±„ë„ í•„í„° + ì •ë ¬ 4ì¢… + í˜ì´ì§€ë„¤ì´ì…˜
- [x] /c/:slug â€” ì¹´í…Œê³ ë¦¬ í—ˆë¸Œ + ì„œë¸Œì¹´í…Œê³ ë¦¬ ì¹© + ì •ë ¬ + í˜ì´ì§€ë„¤ì´ì…˜
- [x] /d/:slug â€” í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë‹¬ (ë¦¬ìŠ¤íŠ¸ í´ë¦­=ëª¨ë‹¬, ì§ì ‘ì ‘ì†=í’€í˜ì´ì§€ SEO)
- [x] /m/:slug â€” ë¸Œëœë“œê´€ + êµ¬ë…ë²„íŠ¼ + ì§„í–‰ì¤‘/ì¢…ë£Œ íƒ­
- [x] /submit â€” ìœ ì € ì œë³´ (URL+ì½”ë©˜íŠ¸, ì¤‘ë³µì²´í¬, ë¹„ë¡œê·¸ì¸ ê°€ëŠ¥)
- [x] /auth â€” ë¡œê·¸ì¸/ê°€ì… UI shell (Supabase OTP ë¯¸ì—°ê²°)
- [x] /me â€” ë§ˆì´í˜ì´ì§€ UI shell

### ì–´ë“œë¯¼ (2/14~15)
- [x] ëŒ€ì‹œë³´ë“œ + ë”œ CRUD + ë¨¸ì²œíŠ¸ CRUD + í¬ë¡¤ ê´€ë¦¬

### ë¨¸ì²œíŠ¸ ë¡œê³  (2/15~16)
- [x] v2 HTTP apple-touch-icon ìˆ˜ì§‘ (108 ê³ í’ˆì§ˆ)
- [x] v3.1 Puppeteer DOM íŒŒì‹± (59ê°œ êµì²´)
- [x] êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰ (~102ê°œ)
- [x] ìˆ˜ë™ êµì²´ 9ì¢… (ì‚¼ì„±, ì˜¬ë¦¬ë¸Œì˜, êµë³´ë¬¸ê³ , ë¡¯ë°ì‹œë„¤ë§ˆ, ë°°ìŠ¤í‚¨ë¼ë¹ˆìŠ¤, ì´ë‹ˆìŠ¤í”„ë¦¬, ë‹Œí…ë„, ë”ë¸”í•˜íŠ¸, ìœ íŒ¡)

### DealCard ë¦¬ë””ìì¸ (2/15~16)
- [x] DealCard v4.2 (í°ìƒ‰ ë°°ê²½, brand_color ì•¡ì„¼íŠ¸, ë¡œê³  ë¹„ìœ¨ ë™ì , ì¿ í° ì ì„ )

### ë§Œë£Œ ìë™í™” (2/16)
- [x] filterActiveDeals í•¨ìˆ˜ (status='active' AND ends_at í•„í„°)
- [x] í™ˆ/ê²€ìƒ‰/ì¹´í…Œê³ ë¦¬/ë¸Œëœë“œê´€ ì „ í˜ì´ì§€ ì ìš©
- [x] Cron ì¼ê´„ ì „í™˜ ì„¤ì • (ë§¤ì¼ 06:00 KST)

### í–‰ë™ì¶”ì  (2/16)
- [x] deal_actions í…Œì´ë¸” + ì¸ë±ìŠ¤ + RLS (Supabase ì‹¤í–‰ ì™„ë£Œ, 72ê±´+ ë°ì´í„°)
- [x] increment_view_count / increment_click_out_count í•¨ìˆ˜
- [x] tracking.ts + API + DealDetail/CopyCodeButton/out ì—°ë™

### ë°°í¬ (2/16)
- [x] Vercel Pro ì „í™˜ + Git push ìë™ ë°°í¬ ë¼ì´ë¸Œ
- [x] Vercel Cron ì„¤ì • (DNS í›„ í™œì„±í™”)
- [x] í´ë¦­ íŠ¸ë˜í‚¹ (/out/:dealId) + ì–´ë“œë¯¼ ì¸ì¦ ë³´í˜¸

### ëª¨ë°”ì¼ ë°˜ì‘í˜• (2/16)
- [x] 12íŒŒì¼ ìˆ˜ì •, ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸, 44px í„°ì¹˜ íƒ€ê²Ÿ, safe-area, ë°”í…€ì‹œíŠ¸

### í¬ë¡¤ëŸ¬ v3 ìµœì í™” (2/16)
- [x] DB í•´ì‹œ ë³€ê²½ê°ì§€ (content_hash, hash_updated_at)
- [x] save-deals v2 (title ê¸°ë°˜ ì¤‘ë³µì²´í¬ + ë°°ì¹˜ë‚´ ì¤‘ë³µë°©ì§€)
- [x] ì»¤ë„¥í„° ì •ë¦¬ (349â†’243â†’**256 active**, 157 disabled, 0 error)
- [x] ì‚¼ì„± ë¨¸ì²œíŠ¸ ë³‘í•© (ì‚¼ì„±ë‹·ì»´+ì‚¼ì„±ì „ìê°€ì „)

### ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ë¦¬ë””ìì¸ (2/16)
- [x] ê·¸ë¼ë””ì–¸íŠ¸ í—¤ë” ì œê±° â†’ íƒ­ë°”(12ê°œ ê°€ë¡œìŠ¤í¬ë¡¤) + Lucide ì•„ì´ì½˜ + ì»´íŒ©íŠ¸ í—¤ë”

### í™ˆ ë””ìì¸ ê°œì„  (2/16)
- [x] íˆì–´ë¡œ ì¤‘ë³µ ê²€ìƒ‰ì°½ ì œê±° (TopNavë§Œ ìœ ì§€)
- [x] ì¹´í…Œê³ ë¦¬ ì´ëª¨ì§€ â†’ Lucide ì•„ì´ì½˜ í†µì¼ (ì»¬ëŸ¬ ë°°ê²½ ì› í¬í•¨)
- [x] ëª¨ë°”ì¼ ì¹´í…Œê³ ë¦¬: ê·¸ë¦¬ë“œ 3ì¤„ â†’ ê°€ë¡œ ìŠ¤í¬ë¡¤ 1ì¤„
- [x] ì„¹ì…˜ ì´ëª¨ì§€ ì œê±° (ğŸ”¥/âœ¨/â° â†’ í…ìŠ¤íŠ¸ë§Œ)
- [x] ê°„ê²© ì¶•ì†Œ + ì„œë¸Œì¹´í”¼ ë³€ê²½

### ë”œ ëª¨ë‹¬ ì†ë„ ê°œì„  (2/16)
- [x] ëª¨ë‹¬ ì„œë²„â†’í´ë¼ì´ì–¸íŠ¸ fetch ì „í™˜ (DealDetailClient.tsx)
- [x] ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© (í´ë¦­ ì¦‰ì‹œ ëª¨ë‹¬ í‘œì‹œ â†’ 300ms ë°ì´í„° ë¡œë“œ)
- [x] SEO í’€í˜ì´ì§€(/d/:slug)ëŠ” ê¸°ì¡´ ì„œë²„ ë Œë” ìœ ì§€

### ì¹´í…Œê³ ë¦¬ êµ¬ì¡°ì¡°ì • + ë¨¸ì²œíŠ¸ ëŒ€ì •ë¦¬ (2/16)
- [x] ì¹´í…Œê³ ë¦¬ 12â†’6ê°œ (ìë™ì°¨/ê¸ˆìœµ/í†µì‹  ì œê±°, ë””ì§€í„¸â†’ìƒí™œ í¡ìˆ˜, ê±´ê°•/í‚¤ì¦ˆ/ë°˜ë ¤ ë³´ë¥˜)
- [x] ë””ì§€í„¸/ê°€ì „ 64ê°œ ë”œ â†’ ìƒí™œ/ë¦¬ë¹™ ì´ë™
- [x] 5ê°œ ì¹´í…Œê³ ë¦¬ 147ê°œ ë”œ hidden ì²˜ë¦¬
- [x] 6ê°œ ì¹´í…Œê³ ë¦¬ ë¨¸ì²œíŠ¸ category_ids ì¼ê´„ ë§¤í•‘
- [x] ë¶ˆí•„ìš” ì»¤ë„¥í„° disabled (ìë™ì°¨/ê¸ˆìœµ/í†µì‹ /ê¸°íƒ€)
- [x] ì‹ ê·œ 75ê°œ ë¨¸ì²œíŠ¸ ë“±ë¡ (6ê°œ ì¹´í…Œê³ ë¦¬ í¬í•¨)
- [x] ë¸Œëœë“œ ë§ˆìŠ¤í„° ë¦¬ìŠ¤íŠ¸ 230ê°œ ì‘ì„± (poppon-brand-master.csv)

### ë¸Œëœë“œ í™•ì¥ + í’€í¬ë¡¤ (2/16)
- [x] ì»¤ë„¥í„° ì¤‘ë³µ ì •ë¦¬ (14ê°œ disabled, ë¨¸ì²œíŠ¸ë‹¹ 1ê°œë§Œ ìœ ì§€)
- [x] ì´ë²¤íŠ¸ URL ìë™ íƒì§€ (detect-event-pages.ts, 83ê°œ ëŒ€ìƒ â†’ 33ê°œ ìë™ ë°œê²¬)
- [x] ìˆ˜ë™ ì´ë²¤íŠ¸ URL í™•ì¸ (55ê°œ ì‹¤íŒ¨ë¶„ â†’ 38ê°œ ì¶”ê°€ í™•ì¸)
- [x] ì‹ ê·œ ì»¤ë„¥í„° 65ê°œ ë“±ë¡ (ìë™ 28 + ìˆ˜ë™ 37)
- [x] merchants official_url 7ê°œ ìˆ˜ì • (ìŠ¤í‚¨í‘¸ë“œ, ì˜¤íœ˜, ì •ìƒ˜ë¬¼, ë…¸ìŠ¤í˜ì´ìŠ¤, íƒ‘í…, ì½”ì›¨ì´, ìŠ¤í‚¨1004)
- [x] ì¹´í…Œê³ ë¦¬ íƒ­ë°” 6ê°œ ë°˜ì˜ (constants.ts MAIN_CATEGORIES 12â†’6)
- [x] ì‹ ê·œ 75ê°œ ë¨¸ì²œíŠ¸ brand_color ì¼ê´„ ì„¤ì •
- [x] ì‹ ê·œ 75ê°œ ë¨¸ì²œíŠ¸ ë¡œê³  ìˆ˜ì§‘ (apple-touch-icon 36 + êµ¬ê¸€ì´ë¯¸ì§€ 39, ì‹¤íŒ¨ 0)
- [x] í’€í¬ë¡¤ ì‹¤í–‰ (243ê°œ active, ì„±ê³µ 78 + ìŠ¤í‚µ 134 + ì‹¤íŒ¨ 31, ì‹ ê·œ 173ë”œ + ì—…ë°ì´íŠ¸ 115, $1.41)

### ì¹´í…Œê³ ë¦¬ UI í†µì¼ + ì–¸ë”ë¼ì¸ íƒ­ (2/16)
- [x] CategoryGrid: ì»¬ëŸ¬ ë°°ê²½ ë°•ìŠ¤ â†’ ì–¸ë”ë¼ì¸ íƒ­ ìŠ¤íƒ€ì¼(Style D)ë¡œ ë³€ê²½
- [x] CategoryTabBar: ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë„ í™ˆê³¼ ë™ì¼í•œ ì–¸ë”ë¼ì¸ íƒ­ í†µì¼
- [x] ì•„ì´ì½˜ 20pxâ†’32px (1.5ë°°), ê°„ê²© px-4â†’px-8 (2ë°°)
- [x] ëª¨ë°”ì¼ Android ìŠ¤í¬ë¡¤ ìˆ˜ì • (justify-center â†’ sm:justify-center)
- [x] constants.ts 6ê°œ ì¹´í…Œê³ ë¦¬ Vercel ë°°í¬ ë°˜ì˜

### ë¡œê³  ì—¬ë°± í¬ë¡­ + ë¨¸ì²œíŠ¸ ìˆ˜ì • (2/16)
- [x] ì¿ íŒ¡, ì˜¬ë¦¬ë¸Œì˜, ë†ì‹¬, 29CM ë¡œê³  ì—¬ë°± ìë™ í¬ë¡­ (numpy ê¸°ë°˜)
- [x] ì‹ ë¼ë©´ â†’ ë†ì‹¬ ë¨¸ì²œíŠ¸ ì´ë¦„ ë³€ê²½ (slug: nongshim ìœ ì§€)

### ì†ŒìŠ¤ ë³´í˜¸ ê°•í™” (2/16)
- [x] SourceProtection: í…ìŠ¤íŠ¸ ì„ íƒ/ë“œë˜ê·¸/ë³µì‚¬ ë°©ì§€ ì¶”ê°€ (input/textarea ì œì™¸)
- [x] SourceProtection: Ctrl+S ì €ì¥ ë°©ì§€, ë‹¨ì¶•í‚¤ ëŒ€ì†Œë¬¸ì ëª¨ë‘ ì²˜ë¦¬
- [x] next.config: productionBrowserSourceMaps: false (í”„ë¡œë•ì…˜ ì†ŒìŠ¤ë§µ ì œê±°)
- [x] next.config: poweredByHeader: false (X-Powered-By í—¤ë” ì œê±°)

### í¬ë¡¤ ì»¤ë„¥í„° ëŒ€ì •ë¦¬ (2/16)
- [x] ë¹„í™œì„± ì¹´í…Œê³ ë¦¬ ë¸Œëœë“œ 10ê°œ disabled (ìë™ì°¨/ê¸ˆìœµ/í†µì‹ )
- [x] ë³´ë¥˜ ì¹´í…Œê³ ë¦¬ ë¸Œëœë“œ 11ê°œ disabled (ë°˜ë ¤/í‚¤ì¦ˆ/ê±´ê°•)
- [x] ì¤‘ë³µ ì»¤ë„¥í„° 8ê°œ disabled (ì•¼ë†€ìÃ—3, ë²„ê±°í‚¹Ã—2, GS25Ã—3 ë“±)
- [x] ì•± ì „ìš©/SPA ì°¨ë‹¨ 11ê°œ disabled (ë¬´ì‹ ì‚¬/ì§€ê·¸ì¬ê·¸/ë°°ë¯¼/ì•¼ë†€ì ë“±)
- [x] URL ì¬ì‹œë„ ê°€ëŠ¥ 24ê°œ fail_count ë¦¬ì…‹ (ìœ ë‹ˆí´ë¡œ/ì•„ë””ë‹¤ìŠ¤/ë„ë¯¸ë…¸ ë“±)
- [x] ìµœì¢… í˜„í™©: 256 active / 157 disabled / 0 error

### ì–´ë“œë¯¼ ë¶„ë¦¬ + íšŒì› ì¸ì¦ ì‹œìŠ¤í…œ (2/16)
- [x] íšŒì› DB ë§ˆì´ê·¸ë ˆì´ì…˜ (profiles, user_consents, saved_deals, followed_merchants, followed_categories, notification_preferences + RLS + íŠ¸ë¦¬ê±° + ìë™ ì¦ê° í•¨ìˆ˜)
- [x] ì–´ë“œë¯¼ ì•± ë¶„ë¦¬ (poppon-admin í”„ë¡œì íŠ¸ ìƒì„±)
- [x] ë©”ì¸ ì•±ì—ì„œ í¬ë¡¤ëŸ¬/ì–´ë“œë¯¼ ì½”ë“œ ì œê±° (puppeteer, cheerio ë“± ì˜ì¡´ì„± ì œê±°)
- [x] ì–´ë“œë¯¼ í˜ì´ì§€/API ì´ë™ (deals, merchants, crawls, ai-crawl, cron)
- [x] AuthProvider (ì „ì—­ ì¸ì¦ ìƒíƒœ ê´€ë¦¬ Context)
- [x] AuthSheet (ê°€ì…/ë¡œê·¸ì¸ ë°”í…€ì‹œíŠ¸ â€” ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/ì• í”Œ/ì „í™”ë²ˆí˜¸)
- [x] auth/callback/route.ts (SNS OAuth ì½œë°±)
- [x] me/page.tsx (ì €ì¥ë”œ/êµ¬ë…/ì„¤ì • íƒ­ â€” ì‹¤ì œ ë°ì´í„° ì—°ë™)
- [x] saved-deals API (GET/POST/DELETE)
- [x] follows/merchants API (GET/POST/DELETE)
- [x] TopNav ë¡œê·¸ì¸ ìƒíƒœ ë°˜ì˜ + Footer ì¹´í…Œê³ ë¦¬ 6ê°œ ì •ë¦¬
- [x] poppon ë¹Œë“œ âœ… (15 í˜ì´ì§€)
- [x] poppon-admin ë¹Œë“œ âœ… (19 ë¼ìš°íŠ¸)

### í‚¤ ë¡œí…Œì´ì…˜ + ì–´ë“œë¯¼ ë°°í¬ (2/16)
- [x] Supabase ì‹ ê·œ API Keys ì „í™˜ (sb_publishable_ / sb_secret_)
- [x] ë ˆê±°ì‹œ JWT í‚¤ Disable (eyJhbGci... â†’ ë¬´íš¨í™”)
- [x] Anthropic API Key ì¬ë°œê¸‰ (console.anthropic.com)
- [x] ADMIN_SECRET ë³€ê²½
- [x] poppon + poppon-admin ì–‘ìª½ .env.local ìƒˆ í‚¤ ì ìš© + ë¹Œë“œ ì„±ê³µ
- [x] poppon Vercel í™˜ê²½ë³€ìˆ˜ ì—…ë°ì´íŠ¸ + Redeploy í™•ì¸
- [x] ì–´ë“œë¯¼ ì‚¬ì´ë“œë°” ê²½ë¡œ ìˆ˜ì • (`/admin/deals` â†’ `/deals`, ë¯¸ì°©ìˆ˜ ë©”ë‰´ ì œê±°, Phase 1, ì‚¬ì´íŠ¸ë³´ê¸° ì™¸ë¶€ë§í¬)
- [x] poppon-admin .gitignore ìƒì„± (node_modules/.next/.env.local ì œì™¸)
- [x] poppon-admin GitHub ë ˆí¬ ìƒì„± (private) + push
- [x] poppon-admin Vercel ë°°í¬ ì„±ê³µ (`poppon-admin.vercel.app`, í™˜ê²½ë³€ìˆ˜ 9ê°œ)

### íšŒì›ê°€ì… ì‹œìŠ¤í…œ + í–‰ë™ì¶”ì  ê³ ë„í™” + ì–´ë“œë¯¼ íšŒì›ê´€ë¦¬ (2/16)
- [x] AuthSheet ì „ë©´ ì¬ì‘ì„± â€” 6ë‹¨ê³„ í”Œë¡œìš° (mainâ†’signupâ†’loginâ†’identityâ†’categoriesâ†’marketing)
- [x] ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ íšŒì›ê°€ì…+ë¡œê·¸ì¸ (Supabase Auth, Confirm email OFF)
- [x] ë³¸ì¸ì¸ì¦ KMC placeholder + í…ŒìŠ¤íŠ¸ìš© ìŠ¤í‚µ ë²„íŠ¼
- [x] ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ ì„ íƒ â€” DBì—ì„œ 6ê°œ ë¡œë“œ, í˜œíƒ ê°•ì¡° UX ("ì•Œë¦¼ ë°›ê¸°")
- [x] ë§ˆì¼€íŒ… ë™ì˜ â€” ì „ì²´ë™ì˜ + ê°œë³„(ì•Œë¦¼í†¡/í‘¸ì‹œ/ì´ë©”ì¼)
- [x] AuthSheet Portal (createPortal â†’ body ì§ì ‘ ë Œë”ë§, fixed í¬ì§€ì…”ë‹ ë¬¸ì œ í•´ê²°)
- [x] AuthSheet ë°˜ì‘í˜• (ëª¨ë°”ì¼: ë°”í…€ì‹œíŠ¸, ë°ìŠ¤í¬í†±: ì„¼í„° ëª¨ë‹¬)
- [x] AuthProvider ìˆ˜ì • â€” SIGNED_IN ìë™ë‹«í˜ ì œê±° (ì˜¨ë³´ë”© ìœ ì§€), withdrawn/banned ì²´í¬, setTrackingUserId ì—°ë™
- [x] auth/page.tsx ì¸ì½”ë”© ìˆ˜ì • + AuthSheet ìë™ ì—´ê¸° + isAuthSheetOpen ë¦¬ë‹¤ì´ë ‰íŠ¸ ë°©ì§€
- [x] TopNav ë°ìŠ¤í¬í†± í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ (ë§ˆì´í˜ì´ì§€/ì„¤ì •/ë¡œê·¸ì•„ì›ƒ) + ë°”ê¹¥ í´ë¦­ ê°ì§€
- [x] TopNav/ë§ˆì´í˜ì´ì§€ signOut í›„ window.location.href='/' ê°•ì œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- [x] ë§ˆì´í˜ì´ì§€ ì„¤ì • íƒ­ â€” ë¹„ë°€ë²ˆí˜¸ ë³€ê²½(ì´ë©”ì¼ ì¬ì„¤ì •), ê³„ì • íƒˆí‡´(í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸+ì‚¬ìœ  ì„ íƒ)
- [x] delete-account API â€” soft delete (statusâ†’withdrawn, withdrawn_at, withdraw_reason)
- [x] profiles í…Œì´ë¸” ì»¬ëŸ¼ ì¶”ê°€ (status, withdrawn_at, withdraw_reason, role)
- [x] search_logs í…Œì´ë¸” ìƒì„± (ê²€ìƒ‰ì–´/user_id/session_id/ì¹´í…Œê³ ë¦¬/ê²°ê³¼ìˆ˜ + RLS + ì¸ë±ìŠ¤)
- [x] tracking.ts â€” setTrackingUserId/getTrackingUserId ì¶”ê°€, trackActionì— user_id ìë™ í¬í•¨, trackSearch í•¨ìˆ˜ ì‹ ê·œ
- [x] actions API â€” user_id bodyì—ì„œ ìˆ˜ì‹ +ì €ì¥, metadata ì €ì¥, click_out count ì¦ê°€
- [x] search_logs API â€” ê²€ìƒ‰ ë¡œê·¸ ê¸°ë¡ (POST /api/actions/search)
- [x] deal_actions ì¸ë±ìŠ¤ ì¶”ê°€ (user_id, session_id)
- [x] ì–´ë“œë¯¼ ì‚¬ì´ë“œë°” â€” "ğŸ‘¥ íšŒì› ê´€ë¦¬" ë©”ë‰´ ì¶”ê°€
- [x] ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ â€” íšŒì› í˜„í™© ì¹´ë“œ (ì „ì²´/ì˜¤ëŠ˜ê°€ì…/ë§ˆì¼€íŒ…ë™ì˜/íƒˆí‡´ìš”ì²­) + ì¸ì½”ë”© ìˆ˜ì •
- [x] ì–´ë“œë¯¼ íšŒì› ëª©ë¡ í˜ì´ì§€ (/members) â€” ê²€ìƒ‰/í•„í„°/í˜ì´ì§€ë„¤ì´ì…˜ + ìƒíƒœë±ƒì§€ + í–‰ë™ìš”ì•½ + ë³µêµ¬/ì°¨ë‹¨
- [x] ì–´ë“œë¯¼ íšŒì› ìƒì„¸ í˜ì´ì§€ (/members/[id]) â€” í”„ë¡œí•„ + í–‰ë™ìš”ì•½ 6ì¹´ë“œ + 4íƒ­(í–‰ë™ë¡œê·¸/ì €ì¥ë”œ/êµ¬ë…/ê²€ìƒ‰)
- [x] ì–´ë“œë¯¼ íšŒì› API (GET/PATCH /api/members) â€” ëª©ë¡+í†µê³„+ìƒíƒœë³€ê²½
- [x] ì–´ë“œë¯¼ íšŒì› ìƒì„¸ API (GET /api/members/[id]) â€” í”„ë¡œí•„+ì´ë©”ì¼+í–‰ë™ë¡œê·¸+ê²€ìƒ‰ë¡œê·¸+ìš”ì•½

### ì„±ëŠ¥ ìµœì í™” + UX ë¶€ë“œëŸ¬ì›€ ê°œì„  (2/17)
- [x] Supabase client.ts ì‹±ê¸€í†¤ íŒ¨í„´ ì ìš© â€” ë§¤ë²ˆ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± â†’ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ ê³µìœ  (ì „ì²´ ì„±ëŠ¥ ë³‘ëª© ê·¼ë³¸ í•´ê²°)
- [x] Vercel Function Region ë³€ê²½ â€” ë¶ë¯¸(iad1) â†’ ì„œìš¸(icn1), ì‚¬ìš©ìâ†”ì„œë²„ ì™•ë³µ ~300msâ†’~10ms
- [x] DealModal ë¶€ë“œëŸ¬ìš´ ì—´ë¦¼/ë‹«í˜ ì• ë‹ˆë©”ì´ì…˜ â€” ë°ìŠ¤í¬í†±: fade+scale(0.2s), ëª¨ë°”ì¼: slide-up(0.3s), ë‹«í˜ ì—­ì• ë‹ˆë©”ì´ì…˜ í›„ router.back()
- [x] DealDetailClient ë©”ëª¨ë¦¬ ìºì‹œ â€” dealCache Mapìœ¼ë¡œ ê°™ì€ ë”œ ì¬í´ë¦­ ì‹œ ì¦‰ì‹œ í‘œì‹œ, fetchedRef ì¤‘ë³µ fetch ë°©ì§€, mounted í”Œë˜ê·¸
- [x] TopProgressBar ì‹ ê·œ â€” ëª¨ë“  ë‚´ë¶€ ë§í¬ í´ë¦­ ì‹œ ìƒë‹¨ ë¹¨ê°„ í”„ë¡œê·¸ë ˆìŠ¤ ë°” (ë„¤ì´ë²„/ì¿ íŒ¡ ìŠ¤íƒ€ì¼), Suspense ë˜í•‘
- [x] loading.tsx 5ê°œ ì‹ ê·œ â€” í™ˆ/ì¹´í…Œê³ ë¦¬/ê²€ìƒ‰/ë¸Œëœë“œê´€/ë§ˆì´í˜ì´ì§€ ìŠ¤ì¼ˆë ˆí†¤ (ì„œë²„ ë°ì´í„° ë¡œë”© ì¤‘ ì¦‰ì‹œ ë ˆì´ì•„ì›ƒ í‘œì‹œ)
- [x] í˜ì´ì§€ fade-in íŠ¸ëœì§€ì…˜ â€” globals.cssì— animate-fade-in ì¶”ê°€, layout.tsx mainì— ì ìš©
- [x] layout.tsx ìˆ˜ì • â€” TopProgressBar ì¶”ê°€ + mainì— animate-fade-in í´ë˜ìŠ¤

### ì¸ì¦ UX ê°œì„  + í† ìŠ¤íŠ¸ + ë¡œê·¸ì•„ì›ƒ ìˆ˜ì • (2/17)
- [x] Toast ì•Œë¦¼ ì‹œìŠ¤í…œ ì‹ ê·œ â€” Toast.tsx ê¸€ë¡œë²Œ ì»´í¬ë„ŒíŠ¸ (ë‹¤í¬ ë°°ê²½, ì»¬ëŸ¬ ì•„ì´ì½˜, 2.7s ìë™ ë‹«í˜, slide-down ì• ë‹ˆë©”ì´ì…˜)
- [x] AuthProviderì— showToast/hideToast ì»¨í…ìŠ¤íŠ¸ ì¶”ê°€, sessionStorage ê¸°ë°˜ setPendingToast (ë¦¬ë‹¤ì´ë ‰íŠ¸ í›„ í† ìŠ¤íŠ¸ í‘œì‹œ)
- [x] íšŒì›ê°€ì… ì™„ë£Œ "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤" / ë¡œê·¸ì¸ "ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤" / ë¡œê·¸ì•„ì›ƒ "ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤" í† ìŠ¤íŠ¸
- [x] globals.cssì— toast-slide-down í‚¤í”„ë ˆì„ + toast-container ìŠ¤íƒ€ì¼ ì¶”ê°€
- [x] layout.tsxì— Toast ì»´í¬ë„ŒíŠ¸ ë˜í•‘ ì¶”ê°€
- [x] AuthSheet ë¡œê·¸ì¸ í¼ "ì´ë©”ì¼ ê¸°ì–µí•˜ê¸°" ì²´í¬ë°•ìŠ¤ â€” localStorage(poppon_remember_email) ì €ì¥, ì¬ë°©ë¬¸ ì‹œ ìë™ ì…ë ¥
- [x] í™ˆ CTA ëª¨ë˜í™” â€” ì´ëª¨ì§€ ì œê±° â†’ Lucide ì•„ì´ì½˜(Lightbulb, BellRing), í™”ì‚´í‘œ hover ì• ë‹ˆë©”ì´ì…˜, ê¹”ë”í•œ ê·¸ë¼ë””ì–¸íŠ¸
- [x] ë§ˆì´í˜ì´ì§€ ì„¤ì • íƒ­ â€” ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì„¹ì…˜ (6ê°œ ì¹´í…Œê³ ë¦¬ í† ê¸€ ì¹©, profiles.interested_categories DB ì €ì¥)
- [x] ë§ˆì´í˜ì´ì§€ ì„¤ì • íƒ­ â€” ì¶”ì²œ ë¸Œëœë“œ êµ¬ë… ì„¹ì…˜ (ì¸ê¸° 12ê°œ ë¨¸ì²œíŠ¸, íŒ”ë¡œìš°/ì–¸íŒ”ë¡œìš° í† ê¸€, ê²€ìƒ‰ ë§í¬)
- [x] TopNav ë¡œê·¸ì•„ì›ƒ ë²„ê·¸ ìˆ˜ì • â€” document.addEventListener ì¶©ëŒ ì œê±°, íˆ¬ëª… ì˜¤ë²„ë ˆì´(z-59) íŒ¨í„´ìœ¼ë¡œ ë°”ê¹¥í´ë¦­ ê°ì§€, ë“œë¡­ë‹¤ìš´ z-60
- [x] handleSignOut ê°œì„  â€” `await Promise.race([signOut(), timeout(3s)])` íŒ¨í„´, ì¿ í‚¤/localStorage ê°•ì œì‚­ì œ ì½”ë“œ ì œê±° (Supabase SSR ì¿ í‚¤ ë°©ì‹ ì¡´ì¤‘)
- [x] AuthProvider signOut ì •ë¦¬ â€” ë¶ˆí•„ìš”í•œ localStorage/ì¿ í‚¤ ê°•ì œì‚­ì œ ì œê±°, ìˆœìˆ˜ supabase.auth.signOut() + ìƒíƒœ ì´ˆê¸°í™”ë§Œ ìœ ì§€
- [x] AuthProvider initAuth ì•ˆì •í™” â€” try-finallyë¡œ setIsLoading(false) ë³´ì¥, fetchProfile try-catch ë˜í•‘
- [x] AuthSheet ë¡œê·¸ì¸/íšŒì›ê°€ì… Enter í‚¤ submit ì§€ì› â€” ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ Enter ì‹œ ë°”ë¡œ ì œì¶œ (onKeyDown í•¸ë“¤ëŸ¬)

---

## ğŸ”´ ë¯¸í•´ê²° ë²„ê·¸ / ì¦‰ì‹œ ì²˜ë¦¬ í•„ìš”

- âš ï¸ **Supabase ë¦¬ì „ us-east-1 (ë¯¸êµ­ ë™ë¶€)** â€” Free í”Œëœ ê¸°ë³¸ê°’. Vercel ì„œìš¸â†’Supabase ë¯¸êµ­ ì™•ë³µ ~150ms ì”ì¡´. Pro í”Œëœ ì „í™˜ ì‹œ ì•„ì‹œì•„ ë¦¬ì „ ì´ì „ ê²€í† 
- âš ï¸ í™ˆ ì„œë¸Œì¹´í”¼ "283ê°œ ë¸Œëœë“œ" â†’ ë¨¸ì²œíŠ¸ ìˆ˜ ë™ì  í‘œì‹œ ë˜ëŠ” ì—…ë°ì´íŠ¸ í•„ìš”
- âš ï¸ ì¼ë¶€ êµ¬ê¸€ ì´ë¯¸ì§€ ë¡œê³  í’ˆì§ˆ ë‚®ìŒ â†’ ìˆ˜ë™ êµì²´ ê²€í† 
- âš ï¸ poppon-adminì— layout.tsx ìˆ˜ì • ì»¤ë°‹ ì•„ì§ ë¯¸ë°˜ì˜ (ë¡œì»¬ íŒŒì¼ êµì²´ + git push í•„ìš”)

---

## ğŸ”² ì§„í–‰ ì˜ˆì • ì‘ì—…

**ë„ë©”ì¸ ì—°ê²°**
- [ ] ê°€ë¹„ì•„ DNS ì„¤ì • â€” poppon.kr: A: `@`â†’Vercel IP, CNAME: `www`â†’Vercel DNS
- [ ] Vercel poppon í”„ë¡œì íŠ¸ì— poppon.kr ë„ë©”ì¸ ì¶”ê°€
- [ ] admin.poppon.kr CNAME ì¶”ê°€ â†’ poppon-admin Vercel ë„ë©”ì¸ ì—°ê²°
- [ ] HTTPS/SSL ìë™ ë°œê¸‰ í™•ì¸

**íšŒì› ê¸°ëŠ¥ ì—°ë™**
- [ ] Supabase Auth Provider ì„¤ì • (ì¹´ì¹´ì˜¤ OAuth)
- [ ] Supabase Auth Provider ì„¤ì • (ë„¤ì´ë²„ â€” ì»¤ìŠ¤í…€ OIDC)
- [ ] Supabase Auth Provider ì„¤ì • (ì• í”Œ â€” ì•± ì¶œì‹œ ì „)
- [ ] KMC ë³¸ì¸ì¸ì¦ ì—°ë™ (ì—°íœ´ í›„)
- [ ] ê°€ì… í”Œë¡œìš° E2E í…ŒìŠ¤íŠ¸
- [ ] ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ (ì±„ë„ ê°œì„¤ í•„ìš”)
- [ ] ê²€ìƒ‰ í˜ì´ì§€ì—ì„œ trackSearch í˜¸ì¶œ ì—°ë™

**ì–´ë“œë¯¼ ë§ˆë¬´ë¦¬**
- [ ] ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ ì¸ì½”ë”© ìˆ˜ì • ì»¤ë°‹ í™•ì¸
- [ ] íƒˆí‡´ 30ì¼ ê²½ê³¼ ìë™ ì‚­ì œ Cron ì¶”ê°€

**í¬ë¡¤ëŸ¬ ìš´ì˜ ì•ˆì •í™”**
- [ ] ë¦¬ì…‹í•œ 24ê°œ ì»¤ë„¥í„° ì¬í¬ë¡¤ ê²°ê³¼ í™•ì¸
- [ ] ì¼ë¶€ ë¨¸ì²œíŠ¸ official_url ì¶”ê°€ ìˆ˜ì • (ê¹Œì‚¬ë¯¸ì•„â†’guud.com ë“±)

**UI ë°˜ì˜**
- [ ] í™ˆ ì„œë¸Œì¹´í”¼ ë¨¸ì²œíŠ¸ ìˆ˜ ë°˜ì˜

**ì¸í”„ë¼**
- [ ] Supabase Pro ì „í™˜ + ì•„ì‹œì•„ ë¦¬ì „ ì´ì „ ê²€í†  (í˜„ì¬ us-east-1)
- [ ] poppon-admin Vercel Function Region ì„œìš¸ ë³€ê²½
- [ ] NCP ì´ê´€ (s2-g3 4vCPU/16GB, ì›” ~13ë§Œì›)
- [ ] Docker êµ¬ì„± â†’ ìƒìš©ì„œë²„ ì´ê´€ ëŒ€ë¹„

---

## ë°°ì¹˜ ìŠ¤ì¼€ì¤„ (ì–´ë“œë¯¼ ì•±ì—ì„œ ê´€ë¦¬)
- **í˜„ì¬**: Vercel Cron â€” ë§¤ì¼ 06:00 KST (21:00 UTC)
- **ì¶”í›„**: 06:00 / 12:00 / 18:00 / 23:00
- **ìˆœì„œ**: â‘  Affiliate Ingest â†’ â‘¡ Crawl Ingest â†’ â‘¢ Expire/Quality ì¬ê³„ì‚° â†’ â‘£ ë¦¬í¬íŠ¸ ìƒì„±

---

## ğŸ–¥ï¸ ì¸í”„ë¼ ì„¤ê³„ (í•©ì˜, ë¯¸ì°©ìˆ˜)
- **í˜„ì¬**: Vercel Pro ($20/ì›” Ã— 2) â€” ë©”ì¸(ì„œìš¸ icn1) + ì–´ë“œë¯¼ ê°ê°
- **Supabase**: Free í”Œëœ, us-east-1 (ë¯¸êµ­ ë™ë¶€) â€” Pro ì „í™˜ ì‹œ ì•„ì‹œì•„ ë¦¬ì „ ì´ì „ ê²€í† 
- **ì´ê´€ ê³„íš**: NCP s2-g3 (4vCPU/16GB) ~8ë§Œ + Supabase Pro ~3.4ë§Œ + Haiku ~1.4ë§Œ = **ì›” ~13ë§Œì›**
- Docker êµ¬ì„± â†’ ìƒìš©ì„œë²„ ì´ê´€ ëŒ€ë¹„

---

## ì•Œë ¤ì§„ ì´ìŠˆ
- í•œê¸€ slug â†’ decodeURIComponent í•„ìˆ˜
- Supabase ì¡°ì¸ FK ëª…ì‹œ í•„ìˆ˜
- ëª¨ë‹¬ ë‚´ë¶€ ë§í¬ â†’ `<a>` hard navigation
- categories.deal_count DB ê°’ 0 â†’ active ë”œ ì‹¤ì œ ì§‘ê³„ë¡œ ëŒ€ì²´
- ë³‘ë ¬ í¬ë¡¤ concurrency ê¸°ë³¸ 3 (API bodyì—ì„œ ì¡°ì ˆ, ìµœëŒ€ 5)
- brand_color: **339ê°œ ì „ì› ì ìš© ì™„ë£Œ**
- ë”œ ì´ë¯¸ì§€: thumbnail_urlì€ DealCardì—ì„œ ì‚¬ìš© ì•ˆ í•¨ (ë¡œê³  ì¤‘ì‹¬ ë””ìì¸)
- Puppeteer waitForTimeout: ì‹ ë²„ì „ì—ì„œ ì œê±°ë¨ â†’ `new Promise(r => setTimeout(r, ms))` ì‚¬ìš©
- Vercel ë¹Œë“œ: Supabase `.rpc()` ë°˜í™˜ PromiseLikeì— `.catch()` ë¶ˆê°€ â†’ `.then(() => {}, () => {})` ì‚¬ìš©
- Vercel ë¹Œë“œ: íƒ€ì… ì²´í¬ ë¡œì»¬ë³´ë‹¤ ì—„ê²© â€” SaveResult ë“± ì¸í„°í˜ì´ìŠ¤ í•„ìˆ˜ í•„ë“œ ëˆ„ë½ ì£¼ì˜
- ë¡œê³  ìˆ˜ë™êµì²´: `public/logos/` + DB logo_url ë™ì‹œ ì—…ë°ì´íŠ¸ í•„ìš”
- CategoryGrid/CategoryTabBar: 'use client' (usePathname ì‚¬ìš©), CategoryIconì— style prop ì§€ì› ì•ˆ í•¨ â†’ color propë§Œ ì‚¬ìš©
- **PowerShell Set-Content ì¸ì½”ë”© ì£¼ì˜**: í•œê¸€ íŒŒì¼ ì¹˜í™˜ ì‹œ UTF-8 BOM ì—†ì´ ì €ì¥ â†’ node ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ê¶Œì¥
- **ì–´ë“œë¯¼ ì•± tsconfig.json**: `"exclude": ["node_modules", "scripts"]` (ë¹Œë“œì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ì œì™¸)
- **Supabase API Keys**: ë ˆê±°ì‹œ(eyJhbGci...) Disabled â†’ ì‹ ê·œ sb_publishable_ / sb_secret_ ì‚¬ìš© ì¤‘. ì–‘ìª½ .env.local + Vercel í™˜ê²½ë³€ìˆ˜ ëª¨ë‘ ì‹ ê·œ í‚¤ë¡œ ì„¤ì • í•„ìˆ˜
- **Supabase client.ts ì‹±ê¸€í†¤**: ë°˜ë“œì‹œ `createClient()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²ƒ. ì§ì ‘ `createBrowserClient()` í˜¸ì¶œ ê¸ˆì§€ â€” ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ ì¸ì¦ ì„¸ì…˜ ë¶„ë¦¬ë¡œ ì „ì²´ ì„±ëŠ¥ ì €í•˜+ê¹œë¹¡ì„ ë°œìƒ
- **Vercel Function Region**: ë©”ì¸ ì•± ì„œìš¸(icn1) ì„¤ì • ì™„ë£Œ. ì–´ë“œë¯¼ë„ ì„œìš¸ ì„¤ì • ê¶Œì¥. ë¦¬ì „ ë³€ê²½ í›„ Redeploy í•„ìš”
- **DealDetailClient ìºì‹œ**: dealCacheëŠ” ë©”ëª¨ë¦¬(í´ë¼ì´ì–¸íŠ¸) í•œì •. ìƒˆë¡œê³ ì¹¨ ì‹œ ì´ˆê¸°í™”ë¨. ë¬¸ì œ ì‹œ ìºì‹œ ë¬´íš¨í™” ë¡œì§ ì¶”ê°€ í•„ìš”
- **PowerShell [id] í´ë”**: `Remove-Item`/`ls` ì‹œ `-LiteralPath` ì‚¬ìš© í•„ìˆ˜ (ëŒ€ê´„í˜¸ë¥¼ íŠ¹ìˆ˜ë¬¸ìë¡œ ì¸ì‹)
- **TopNav ë“œë¡­ë‹¤ìš´ í´ë¦­ ê°ì§€**: document.addEventListener('click') íŒ¨í„´ì€ ì´ë²¤íŠ¸ ë²„ë¸”ë§ìœ¼ë¡œ ë²„íŠ¼ onClickë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë˜ì–´ ë“œë¡­ë‹¤ìš´ì´ ë‹«í˜ â†’ íˆ¬ëª… ì˜¤ë²„ë ˆì´(z-59) + ë“œë¡­ë‹¤ìš´(z-60) íŒ¨í„´ ì‚¬ìš© í•„ìˆ˜
- **Supabase SSR ë¡œê·¸ì•„ì›ƒ**: Supabase SSR(@supabase/ssr)ì€ ì¿ í‚¤ ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬ â†’ localStorage/ì¿ í‚¤ ê°•ì œì‚­ì œ ë¶ˆí•„ìš”, supabase.auth.signOut()ë§Œ í˜¸ì¶œí•˜ë©´ ë¨. ê°•ì œì‚­ì œ ì‹œ ì˜¤íˆë ¤ ì„¸ì…˜ ê¼¬ì„ ë°œìƒ
- **Toast ì‹œìŠ¤í…œ**: AuthProviderì˜ showToast/setPendingToast ì‚¬ìš©. ë¦¬ë‹¤ì´ë ‰íŠ¸ í›„ í† ìŠ¤íŠ¸ëŠ” sessionStorage('poppon_pending_toast')ì— ì €ì¥ â†’ layout mount ì‹œ í‘œì‹œ

---

## ì±„íŒ… íˆìŠ¤í† ë¦¬
| ì±„íŒ… | ë‚ ì§œ | ì£¼ìš” ë‚´ìš© |
|------|------|-----------|
| íŒí°-ì›¹ì‚¬ì´íŠ¸ê°œë°œì‹œì‘ | 2/14 | DB, ì–´ë“œë¯¼, í¬ë¡¤ëŸ¬ ê¸°ì´ˆ |
| íŒí°-í¬ë¡¤ë§ì—ëŒ€í•œê³ ë¯¼ | 2/14 | Puppeteer+AI ì „ëµ |
| íŒí°-í¬ë¡¤ë§ì™„ë£Œ | 2/14 | 1ì°¨ í¬ë¡¤ë§, 455ê°œ ë”œ |
| íŒí°-ìƒì„¸ ê°œë°œ í˜ì´ì§€ ë“± | 2/15 | í™ˆ, ë”œìƒì„¸, ë¡œê³  v2 |
| íŒí°-ë¸Œëœë“œê´€ ë“± ê¸°íƒ€ | 2/15 | ë¸Œëœë“œê´€/ê²€ìƒ‰/ì¹´í…Œê³ ë¦¬/Cron |
| íŒí°-ì¤‘ë³µì œê±° ë° ë¡œê³  | 2/15 | DealCard ë¦¬ë””ìì¸ |
| íŒí°-ìŠ¤í…Œì´í„°ìŠ¤ ì •ë¦¬ | 2/15 | STATUS.md ì •ë¦¬ |
| íŒí°-DealCard+ë¡œê³  | 2/15 | brand_color, DealCard v3 |
| íŒí°-DealCard v4+ë¡œê³ v4 | 2/16 | DealCard v4.2, ë¡œê³  v4 |
| íŒí°-STATUS+ë§Œë£Œ+ë²„ê·¸ | 2/16 | ë§Œë£Œ ìë™í™” |
| íŒí°-í´ë¦­íŠ¸ë˜í‚¹+ì–´ë“œë¯¼+ë°°í¬ | 2/16 | í´ë¦­íŠ¸ë˜í‚¹, ì–´ë“œë¯¼ ë³´í˜¸ |
| íŒí°-ëª¨ë°”ì¼ë°˜ì‘í˜•+í¬ë¡¤ëŸ¬+ë°°í¬ | 2/16 | ëª¨ë°”ì¼ 12íŒŒì¼, Vercel ë°°í¬ |
| íŒí°-í¬ë¡¤ë§ìµœì í™”+íšŒì›ì„¤ê³„+í–‰ë™ì¶”ì  | 2/16 | í¬ë¡¤ëŸ¬ v3, ì»¤ë„¥í„° ì •ë¦¬, deal_actions, íšŒì›ì„¤ê³„ |
| íŒí°-STATUSë³µì›+ë¡œê³ +ì¹´í…Œê³ ë¦¬ë¦¬ë””ìì¸ | 2/16 | STATUS ë³µì›, ë¡œê³  9ì¢…, ì¹´í…Œê³ ë¦¬ ë¦¬ë””ìì¸, Vercel Pro |
| íŒí°-ë””ìì¸ê°œì„ +ëª¨ë‹¬ì†ë„+ë§Œë£Œí•„í„° | 2/16 | í™ˆ ê²€ìƒ‰ì°½ ì œê±°, ì¹´í…Œê³ ë¦¬ Lucide í†µì¼, ì´ëª¨ì§€ ì œê±°, filterActiveDeals ì „í˜ì´ì§€, ë”œ ëª¨ë‹¬ í´ë¼ì´ì–¸íŠ¸ fetch ì „í™˜ |
| íŒí°-ì¹´í…Œê³ ë¦¬êµ¬ì¡°ì¡°ì •+ë¨¸ì²œíŠ¸ëŒ€ì •ë¦¬ | 2/16 | ì¹´í…Œê³ ë¦¬ 12â†’6, ë””ì§€í„¸â†’ìƒí™œ í¡ìˆ˜, ë¨¸ì²œíŠ¸ category_ids ë§¤í•‘, ì‹ ê·œ 75ê°œ ë“±ë¡, ë¸Œëœë“œ ë§ˆìŠ¤í„° 230ê°œ, ë¶ˆí•„ìš” ì»¤ë„¥í„° disabled |
| íŒí°-ë¸Œëœë“œí™•ì¥+í’€í¬ë¡¤ | 2/16 | ì»¤ë„¥í„° ì¤‘ë³µì •ë¦¬ 14ê°œ, ì´ë²¤íŠ¸URL íƒì§€+ì»¤ë„¥í„° 65ê°œ ë“±ë¡, ë¡œê³  75ê°œ ìˆ˜ì§‘, brand_color 75ê°œ, ì¹´í…Œê³ ë¦¬ íƒ­ë°” 6ê°œ, í’€í¬ë¡¤ 243ê°œ(ì‹ ê·œ 173ë”œ, $1.41) |
| íŒí°-ì¹´í…Œê³ ë¦¬ì–¸ë”ë¼ì¸+ì†ŒìŠ¤ë³´í˜¸+ì»¤ë„¥í„°ì •ë¦¬ | 2/16 | ì¹´í…Œê³ ë¦¬ ì–¸ë”ë¼ì¸ íƒ­ í†µì¼(Style D), ì•„ì´ì½˜ 1.5ë°°+ê°„ê²© 2ë°°, ë¡œê³  ì—¬ë°± í¬ë¡­ 4ì¢…, ì‹ ë¼ë©´â†’ë†ì‹¬, ì†ŒìŠ¤ë³´í˜¸ ê°•í™”(ì„ íƒ/ë“œë˜ê·¸/ë³µì‚¬/ì†ŒìŠ¤ë§µ), ì»¤ë„¥í„° ëŒ€ì •ë¦¬(error 35â†’0, 256 active) |
| íŒí°-ì¸ì¦ì‹œìŠ¤í…œ+ì–´ë“œë¯¼ë¶„ë¦¬ | 2/16 | íšŒì› DB 6ê°œ í…Œì´ë¸” ë§ˆì´ê·¸ë ˆì´ì…˜, AuthProvider+AuthSheet+OAuthì½œë°±, ë”œì €ì¥/ë¸Œëœë“œêµ¬ë… API, ë§ˆì´í˜ì´ì§€ ë°ì´í„°ì—°ë™, ì–´ë“œë¯¼ ë³„ë„ í”„ë¡œì íŠ¸(poppon-admin) ë¶„ë¦¬, í¬ë¡¤ëŸ¬/Cron ì´ë™, ì–‘ìª½ ë¹Œë“œ ì„±ê³µ |
| **íŒí°-í‚¤ë¡œí…Œì´ì…˜+ì–´ë“œë¯¼ë°°í¬** | **2/16** | **Supabase ì‹ ê·œ í‚¤ ì „í™˜(sb_publishable/sb_secret) + ë ˆê±°ì‹œ Disable, Anthropic í‚¤ ì¬ë°œê¸‰, ADMIN_SECRET ë³€ê²½, ì–´ë“œë¯¼ ì‚¬ì´ë“œë°” ê²½ë¡œ ìˆ˜ì •, poppon-admin GitHub ìƒì„± + Vercel ë°°í¬ ì™„ë£Œ** |
| **íŒí°-íšŒì›ê°€ì…+í–‰ë™ì¶”ì +ì–´ë“œë¯¼íšŒì›ê´€ë¦¬** | **2/16** | **AuthSheet 6ë‹¨ê³„(ì´ë©”ì¼ê°€ì…/ë¡œê·¸ì¸/ë³¸ì¸ì¸ì¦placeholder/ì¹´í…Œê³ ë¦¬/ë§ˆì¼€íŒ…ë™ì˜), soft delete íƒˆí‡´, tracking user_id ì—°ë™, search_logs, ì–´ë“œë¯¼ íšŒì›ëª©ë¡/ìƒì„¸/í–‰ë™ë¡œê·¸, Vercel ë¡œë”© ë²„ê·¸ ë¯¸í•´ê²°** |
| **íŒí°-ì„±ëŠ¥ìµœì í™”+UXë¶€ë“œëŸ¬ì›€** | **2/17** | **Supabase client.ts ì‹±ê¸€í†¤, Vercel ë¦¬ì „ ë¶ë¯¸â†’ì„œìš¸, DealModal ì• ë‹ˆë©”ì´ì…˜, DealDetailClient ìºì‹œ, TopProgressBar, loading.tsx 5ê°œ, fade-in íŠ¸ëœì§€ì…˜** |
| **íŒí°-ì¸ì¦UX+í† ìŠ¤íŠ¸+ë¡œê·¸ì•„ì›ƒìˆ˜ì •** | **2/17** | **Toast ì•Œë¦¼ ì‹œìŠ¤í…œ, ì´ë©”ì¼ ê¸°ì–µí•˜ê¸°, í™ˆ CTA Lucide ì•„ì´ì½˜, ë§ˆì´í˜ì´ì§€ ê´€ì‹¬ì¹´í…Œê³ ë¦¬/ì¶”ì²œë¸Œëœë“œ, TopNav ë¡œê·¸ì•„ì›ƒ ì˜¤ë²„ë ˆì´ íŒ¨í„´ ìˆ˜ì •, signOut await+íƒ€ì„ì•„ì›ƒ, Enterí‚¤ submit** |

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2026-02-17 (ì¸ì¦ UX: Toast ì•Œë¦¼ + ì´ë©”ì¼ ê¸°ì–µí•˜ê¸° + í™ˆ CTA ëª¨ë˜í™” + ë§ˆì´í˜ì´ì§€ ê´€ì‹¬ì¹´í…Œê³ ë¦¬/ì¶”ì²œë¸Œëœë“œ + TopNav ë¡œê·¸ì•„ì›ƒ ì˜¤ë²„ë ˆì´ íŒ¨í„´ + Enterí‚¤ submit)*
